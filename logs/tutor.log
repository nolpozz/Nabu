2025-08-15 19:03:34,823 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:03:48,490 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:03:48,603 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:03:48,895 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:03:48,899 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:03:48,899 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:03:48,901 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:03:48,901 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:03:48,928 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:03:48,934 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 001: create_user_profile
2025-08-15 19:03:48,947 - data.migrations - INFO - migrations:run_migrations:88 - Migration 001 completed in 9ms
2025-08-15 19:03:48,947 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 002: create_user_notes
2025-08-15 19:03:48,988 - data.migrations - INFO - migrations:run_migrations:88 - Migration 002 completed in 35ms
2025-08-15 19:03:48,988 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 003: create_vocabulary
2025-08-15 19:03:49,027 - data.migrations - INFO - migrations:run_migrations:88 - Migration 003 completed in 39ms
2025-08-15 19:03:49,027 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 004: create_learning_sessions
2025-08-15 19:03:49,072 - data.migrations - INFO - migrations:run_migrations:88 - Migration 004 completed in 35ms
2025-08-15 19:03:49,072 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 005: create_media_library
2025-08-15 19:03:49,114 - data.migrations - INFO - migrations:run_migrations:88 - Migration 005 completed in 24ms
2025-08-15 19:03:49,115 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 006: create_assessments
2025-08-15 19:03:49,151 - data.migrations - INFO - migrations:run_migrations:88 - Migration 006 completed in 31ms
2025-08-15 19:03:49,151 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 007: create_learning_metrics
2025-08-15 19:03:49,180 - data.migrations - INFO - migrations:run_migrations:88 - Migration 007 completed in 21ms
2025-08-15 19:03:49,183 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 008: create_settings
2025-08-15 19:03:49,196 - data.migrations - INFO - migrations:run_migrations:88 - Migration 008 completed in 9ms
2025-08-15 19:03:49,203 - data.migrations - INFO - migrations:run_migrations:76 - Running migration 009: create_data_lifecycle
2025-08-15 19:03:49,221 - data.migrations - INFO - migrations:run_migrations:88 - Migration 009 completed in 10ms
2025-08-15 19:03:49,310 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:03:49,329 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:03:49,337 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:03:49,350 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:03:49,355 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:03:49,355 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:03:49,355 - core.application - INFO - application:__init__:28 - Initializing TutorApplication
2025-08-15 19:03:49,355 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:03:49,358 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:03:49,360 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:03:49,360 - core.application - INFO - application:_initialize_ui:58 - Initializing UI components
2025-08-15 19:03:50,613 - __main__ - ERROR - main:main:68 - Application crashed: cannot use geometry manager pack inside .!frame.!frame which already has slaves managed by grid
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 49, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 80, in _initialize_ui
    self.dashboard_frame = DashboardFrame(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\dashboard.py", line 30, in __init__
    self._setup_layout()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\dashboard.py", line 119, in _setup_layout
    self.start_button.pack(side=tk.LEFT, padx=self.theme.SPACING['sm'])
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 2396, in pack_configure
    self.tk.call(
_tkinter.TclError: cannot use geometry manager pack inside .!frame.!frame which already has slaves managed by grid
2025-08-15 19:04:28,102 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:04:28,144 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:04:28,301 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:04:28,301 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:04:28,301 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:04:28,301 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:04:28,307 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:04:28,316 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:04:28,324 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,332 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,336 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,345 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,354 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,360 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,365 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,371 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,381 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,386 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:04:28,395 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:04:28,404 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:04:28,412 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:04:28,416 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:04:28,419 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:04:28,438 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:04:28,443 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:04:28,445 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:04:28,446 - core.application - INFO - application:__init__:28 - Initializing TutorApplication
2025-08-15 19:04:28,447 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:04:28,447 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:04:28,447 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:04:28,450 - core.application - INFO - application:_initialize_ui:58 - Initializing UI components
2025-08-15 19:04:29,477 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:04:29,526 - ui.conversation - INFO - conversation:__init__:32 - Conversation frame initialized
2025-08-15 19:04:29,528 - core.application - INFO - application:_initialize_ui:98 - UI components initialized
2025-08-15 19:04:29,529 - core.application - INFO - application:_initialize_audio:102 - Initializing audio components
2025-08-15 19:04:29,529 - audio.voice_loop - INFO - voice_loop:__init__:23 - VoiceLoop initialized (placeholder)
2025-08-15 19:04:29,529 - core.application - INFO - application:_initialize_audio:109 - Audio components initialized successfully
2025-08-15 19:04:29,529 - core.application - INFO - application:_initialize_agent:119 - Initializing AI agent
2025-08-15 19:04:29,529 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:04:29,529 - core.application - INFO - application:_initialize_agent:127 - AI agent initialized successfully
2025-08-15 19:04:29,529 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-15 19:04:29,529 - core.application - INFO - application:_setup_event_handlers:155 - Event handlers set up
2025-08-15 19:04:29,529 - core.application - INFO - application:__init__:54 - TutorApplication initialized successfully
2025-08-15 19:04:29,529 - core.application - INFO - application:run:246 - Starting application main loop
2025-08-15 19:04:29,529 - core.application - INFO - application:_start_background_services:264 - Starting background services
2025-08-15 19:04:29,537 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:04:29,537 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:04:43,584 - core.application - INFO - application:on_closing:283 - Application closing requested
2025-08-15 19:04:48,606 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:04:48,608 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:04:48,698 - core.application - INFO - application:on_closing:307 - Application closed successfully
2025-08-15 19:04:48,699 - core.application - INFO - application:cleanup:317 - Cleaning up application resources
2025-08-15 19:04:48,724 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:04:48,736 - core.application - INFO - application:cleanup:326 - Application cleanup completed
2025-08-15 19:07:20,285 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:07:20,320 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:16:40,213 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:16:40,275 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:16:45,596 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:16:45,603 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:16:45,605 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:16:45,618 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:16:45,619 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:16:45,638 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:16:45,646 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,654 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,659 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,668 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,674 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,678 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,683 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,690 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,701 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,713 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:16:45,728 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:16:45,734 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:16:45,741 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:16:45,741 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:16:45,755 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:16:45,764 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:16:45,772 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:16:45,774 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:16:45,774 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:16:45,776 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:16:45,778 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:16:45,779 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:16:45,780 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:16:46,397 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:16:46,398 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:16:46,401 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:16:46,402 - core.application - ERROR - application:_initialize_ai_agent:119 - Failed to initialize AI agent: __init__() missing 1 required positional argument: 'db_manager'
2025-08-15 19:16:46,405 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:16:47,502 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:16:47,507 - __main__ - ERROR - main:main:68 - Application crashed: unknown option "-font_size"
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 86, in _initialize_ui
    self.conversation_frame = ConversationFrame(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 37, in __init__
    self._setup_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 49, in _setup_ui
    self.title_label = self.theme.create_styled_label(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\theme.py", line 334, in create_styled_label
    label = tk.Label(
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 3148, in __init__
    Widget.__init__(self, master, 'label', cnf, kw)
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 2572, in __init__
    self.tk.call(
_tkinter.TclError: unknown option "-font_size"
2025-08-15 19:17:56,680 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:17:56,739 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:17:58,518 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:17:58,518 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:17:58,518 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:17:58,525 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:17:58,525 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:17:58,532 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:17:58,544 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,549 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,556 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,561 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,565 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,576 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,582 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,589 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,595 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,595 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:17:58,616 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:17:58,626 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:17:58,633 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:17:58,637 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:17:58,641 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:17:58,656 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:17:58,661 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:17:58,661 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:17:58,661 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:17:58,665 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:17:58,665 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:17:58,665 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:17:58,665 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:17:59,135 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:17:59,136 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:17:59,136 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:17:59,137 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:17:59,138 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:17:59,139 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:18:00,077 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:18:00,095 - __main__ - ERROR - main:main:68 - Application crashed: 'DarkTheme' object has no attribute 'FONTS'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 86, in _initialize_ui
    self.conversation_frame = ConversationFrame(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 37, in __init__
    self._setup_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 66, in _setup_ui
    font=(self.theme.FONTS['body'], self.theme.FONT_SIZES['base']),
AttributeError: 'DarkTheme' object has no attribute 'FONTS'
2025-08-15 19:18:39,547 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:18:39,592 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:18:41,607 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:18:41,609 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:18:41,609 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:18:41,609 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:18:41,609 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:18:41,609 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:18:41,629 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,635 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,643 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,649 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,658 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,663 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,670 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,679 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,683 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,693 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:18:41,705 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:18:41,710 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:18:41,721 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:18:41,726 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:18:41,735 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:18:41,740 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:18:41,751 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:18:41,754 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:18:41,755 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:18:41,757 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:18:41,759 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:18:41,759 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:18:41,759 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:18:42,240 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:18:42,242 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:18:42,242 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:18:42,243 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:18:42,243 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:18:42,244 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:18:43,216 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:18:43,290 - __main__ - ERROR - main:main:68 - Application crashed: type object 'EventTypes' has no attribute 'USER_MESSAGE'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 86, in _initialize_ui
    self.conversation_frame = ConversationFrame(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 38, in __init__
    self._setup_event_handlers()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 128, in _setup_event_handlers
    self.event_bus.subscribe(EventTypes.USER_MESSAGE, self._on_user_message)
AttributeError: type object 'EventTypes' has no attribute 'USER_MESSAGE'
2025-08-15 19:19:17,942 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:19:17,992 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:19:19,709 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:19:19,709 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:19:19,712 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:19:19,712 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:19:19,712 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:19:19,723 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:19:19,732 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,739 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,779 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,795 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,827 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,840 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,848 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,862 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,870 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,881 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:19:19,901 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:19:19,915 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:19:19,923 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:19:19,927 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:19:19,934 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:19:19,944 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:19:19,949 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:19:19,949 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:19:19,951 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:19:19,951 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:19:19,951 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:19:19,953 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:19:19,955 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:19:20,457 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:19:20,460 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:19:20,460 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:19:20,461 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:19:20,462 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:19:20,463 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:19:21,430 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:19:21,484 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:19:21,486 - core.application - INFO - application:_initialize_ui:97 - UI components initialized
2025-08-15 19:19:21,486 - core.application - INFO - application:_setup_event_handlers:125 - Setting up event handlers
2025-08-15 19:19:21,488 - core.application - INFO - application:_setup_event_handlers:138 - Event handlers set up
2025-08-15 19:19:21,489 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:19:21,491 - core.application - INFO - application:run:188 - Starting application main loop
2025-08-15 19:19:21,491 - core.application - INFO - application:_start_background_services:206 - Starting background services
2025-08-15 19:19:21,493 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:19:21,493 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:19:30,985 - ui.dashboard - INFO - dashboard:_start_conversation:126 - Starting conversation session
2025-08-15 19:19:31,013 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: 6aedc199-fee9-4c00-ba1a-b79767986fb6 (mode: conversation)
2025-08-15 19:19:31,042 - core.application - INFO - application:_show_conversation:157 - Navigating to conversation
2025-08-15 19:19:37,831 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:19:37,832 - ui.conversation - INFO - conversation:_start_recording:160 - Recording started
2025-08-15 19:19:37,974 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:129 - Audio stream opened, starting VAD
2025-08-15 19:19:41,984 - audio.voice_loop - ERROR - voice_loop:_process_audio:271 - Audio processing error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-08-15 19:19:51,703 - audio.voice_loop - ERROR - voice_loop:_process_audio:271 - Audio processing error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-08-15 19:19:52,011 - core.application - INFO - application:_cleanup:217 - Cleaning up application resources
2025-08-15 19:19:52,013 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:19:55,874 - audio.voice_loop - ERROR - voice_loop:_process_audio:271 - Audio processing error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-08-15 19:19:56,886 - core.event_bus - ERROR - event_bus:publish:69 - Error in event callback for audio_error: main thread is not in main loop
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\audio\voice_loop.py", line 268, in _process_audio
    raise e
  File "C:\Users\nolan\personal\personal-projects\Nabu\audio\voice_loop.py", line 234, in _process_audio
    transcript = openai.Audio.transcribe(
  File "C:\Users\nolan\personal\personal-projects\Nabu\Nabu-venv\lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\event_bus.py", line 67, in publish
    callback(data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 253, in _on_audio_error
    self.status_label.config(text=f"Audio Error: {error}")
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 1646, in configure
    return self._configure('configure', cnf, kw)
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 1636, in _configure
    self.tk.call(_flatten((self._w, cmd)) + self._options(cnf))
RuntimeError: main thread is not in main loop
2025-08-15 19:19:57,017 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:20:26,773 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:20:26,804 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:20:28,288 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:20:28,288 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:20:28,288 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:20:28,288 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:20:28,295 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:20:28,300 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:20:28,308 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,313 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,319 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,323 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,332 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,338 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,343 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,351 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,357 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,364 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:20:28,378 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:20:28,383 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:20:28,389 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:20:28,389 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:20:28,403 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:20:28,453 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:20:28,495 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:20:28,532 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:20:28,551 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:20:28,555 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:20:28,567 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:20:28,569 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:20:28,571 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:20:29,043 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:20:29,044 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:20:29,046 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:20:29,046 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:20:29,048 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:20:29,049 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:20:29,934 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:20:29,984 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:20:29,986 - core.application - INFO - application:_initialize_ui:97 - UI components initialized
2025-08-15 19:20:29,987 - core.application - INFO - application:_setup_event_handlers:125 - Setting up event handlers
2025-08-15 19:20:29,988 - core.application - INFO - application:_setup_event_handlers:138 - Event handlers set up
2025-08-15 19:20:29,988 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:20:29,989 - core.application - INFO - application:run:188 - Starting application main loop
2025-08-15 19:20:29,990 - core.application - INFO - application:_start_background_services:206 - Starting background services
2025-08-15 19:20:29,991 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:20:29,992 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:20:39,777 - ui.dashboard - INFO - dashboard:_start_conversation:126 - Starting conversation session
2025-08-15 19:20:39,813 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: 80f18034-234f-48ae-b207-d4f6ef13232c (mode: conversation)
2025-08-15 19:20:39,815 - core.application - INFO - application:_show_conversation:157 - Navigating to conversation
2025-08-15 19:20:41,829 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:20:41,832 - ui.conversation - INFO - conversation:_start_recording:160 - Recording started
2025-08-15 19:20:41,923 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:129 - Audio stream opened, starting VAD
2025-08-15 19:20:45,858 - audio.voice_loop - ERROR - voice_loop:_process_audio:271 - Audio processing error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-08-15 19:20:58,843 - data.database - ERROR - database:get_connection:47 - Database operation failed: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-15 19:20:58,846 - core.session_manager - ERROR - session_manager:_update_session_in_db:330 - Failed to update session in database: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 327, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-15 19:20:58,882 - audio.voice_loop - ERROR - voice_loop:_process_audio:271 - Audio processing error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-08-15 19:20:58,918 - ui.conversation - ERROR - conversation:_end_session:195 - Failed to end session: maximum recursion depth exceeded while calling a Python object
2025-08-15 19:21:03,064 - ui.conversation - INFO - conversation:_clear_conversation:203 - Conversation cleared
2025-08-15 19:21:10,822 - core.application - INFO - application:_cleanup:217 - Cleaning up application resources
2025-08-15 19:21:10,823 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:21:15,683 - audio.voice_loop - ERROR - voice_loop:_process_audio:271 - Audio processing error: 

You tried to access openai.Audio, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-08-15 19:21:15,824 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:23:43,699 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:23:43,739 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:23:45,482 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:23:45,483 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:23:45,483 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:23:45,489 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:23:45,491 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:23:45,499 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:23:45,507 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,512 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,522 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,528 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,533 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,542 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,542 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,542 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,559 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,565 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:23:45,588 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:23:45,595 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:23:45,602 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:23:45,609 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:23:45,621 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:23:45,633 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:23:45,641 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:23:45,643 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:23:45,645 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:23:45,645 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:23:45,647 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:23:45,648 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:23:45,648 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:23:46,365 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:23:46,377 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:23:46,378 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:23:46,379 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:23:46,380 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:23:46,381 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:23:47,388 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:23:47,464 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:23:47,465 - core.application - INFO - application:_initialize_ui:97 - UI components initialized
2025-08-15 19:23:47,466 - core.application - INFO - application:_setup_event_handlers:125 - Setting up event handlers
2025-08-15 19:23:47,468 - core.application - INFO - application:_setup_event_handlers:138 - Event handlers set up
2025-08-15 19:23:47,470 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:23:47,471 - core.application - INFO - application:run:188 - Starting application main loop
2025-08-15 19:23:47,473 - core.application - INFO - application:_start_background_services:206 - Starting background services
2025-08-15 19:23:47,473 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:23:47,474 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:23:50,588 - ui.dashboard - INFO - dashboard:_start_conversation:130 - Starting conversation session
2025-08-15 19:23:50,610 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: d3f04830-36bc-402d-81e4-877391174fd7 (mode: conversation)
2025-08-15 19:23:50,611 - core.application - INFO - application:_show_conversation:157 - Navigating to conversation
2025-08-15 19:23:52,367 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:23:52,369 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:23:52,464 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:129 - Audio stream opened, starting VAD
2025-08-15 19:24:00,973 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:24:03,174 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:24:06,650 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:24:08,004 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:24:12,185 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 19:24:12,187 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 19:24:22,019 - core.application - INFO - application:_cleanup:217 - Cleaning up application resources
2025-08-15 19:24:22,020 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:24:27,021 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:24:27,294 - audio.voice_loop - INFO - voice_loop:cleanup:385 - VoiceLoop cleanup completed
2025-08-15 19:24:27,295 - core.application - INFO - application:_cleanup:234 - Application cleanup completed
2025-08-15 19:29:07,851 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:29:07,889 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:29:30,102 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:29:30,140 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:30:27,122 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:30:27,157 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:30:28,943 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:30:28,947 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:30:28,947 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:30:28,949 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:30:28,949 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:30:28,957 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:30:28,964 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:28,973 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:28,980 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:28,989 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:28,995 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:29,004 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:29,012 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:29,022 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:29,027 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:29,034 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:30:29,043 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:30:29,049 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:30:29,056 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:30:29,056 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:30:29,071 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:30:29,077 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:30:29,088 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:30:29,090 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:30:29,090 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:30:29,091 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:30:29,091 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:30:29,091 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:30:29,094 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:30:29,758 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:30:29,759 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:30:29,760 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:30:29,761 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:30:29,762 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:30:29,762 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:30:30,825 - ui.dashboard - INFO - dashboard:__init__:32 - Dashboard frame initialized
2025-08-15 19:30:30,896 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:30:30,898 - core.application - INFO - application:_initialize_ui:97 - UI components initialized
2025-08-15 19:30:30,898 - core.application - INFO - application:_setup_event_handlers:125 - Setting up event handlers
2025-08-15 19:30:30,900 - core.application - INFO - application:_setup_event_handlers:138 - Event handlers set up
2025-08-15 19:30:30,901 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:30:30,903 - core.application - INFO - application:run:188 - Starting application main loop
2025-08-15 19:30:30,904 - core.application - INFO - application:_start_background_services:206 - Starting background services
2025-08-15 19:30:30,906 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:30:30,906 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:30:32,619 - ui.dashboard - INFO - dashboard:_start_conversation:130 - Starting conversation session
2025-08-15 19:30:32,642 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: ed1715f4-1b5c-4d50-b3fb-a7322c0b5c99 (mode: conversation)
2025-08-15 19:30:32,643 - core.application - INFO - application:_show_conversation:157 - Navigating to conversation
2025-08-15 19:30:34,190 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:30:34,191 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:30:34,293 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:129 - Audio stream opened, starting VAD
2025-08-15 19:30:40,481 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:30:42,074 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:30:46,521 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:30:47,248 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:30:52,400 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 19:30:52,402 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 19:30:53,588 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:30:53,801 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:30:55,639 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:31:02,385 - core.application - INFO - application:_cleanup:217 - Cleaning up application resources
2025-08-15 19:31:02,387 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:31:07,389 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:31:07,661 - audio.voice_loop - INFO - voice_loop:cleanup:384 - VoiceLoop cleanup completed
2025-08-15 19:31:07,664 - core.application - INFO - application:_cleanup:234 - Application cleanup completed
2025-08-15 19:35:01,563 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:35:01,611 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:35:03,459 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:35:03,459 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.3, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:35:03,459 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:35:03,459 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:35:03,459 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:35:03,475 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:35:03,480 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,488 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,495 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,499 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,503 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,514 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,519 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,524 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,532 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,532 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:35:03,545 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:35:03,553 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:35:03,560 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:35:03,562 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:35:03,571 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:35:03,578 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:35:03,587 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:35:03,587 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:35:03,587 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:35:03,587 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:35:03,587 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:35:03,592 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:35:03,592 - core.application - INFO - application:_initialize_audio_components:101 - Initializing audio components
2025-08-15 19:35:04,176 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:35:04,178 - core.application - INFO - application:_initialize_audio_components:105 - Audio components initialized successfully
2025-08-15 19:35:04,180 - core.application - INFO - application:_initialize_ai_agent:113 - Initializing AI agent
2025-08-15 19:35:04,181 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:35:04,182 - core.application - INFO - application:_initialize_ai_agent:117 - AI agent initialized successfully
2025-08-15 19:35:04,183 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:35:05,206 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:35:05,271 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:35:05,273 - core.application - INFO - application:_initialize_ui:97 - UI components initialized
2025-08-15 19:35:05,275 - core.application - INFO - application:_setup_event_handlers:125 - Setting up event handlers
2025-08-15 19:35:05,277 - core.application - INFO - application:_setup_event_handlers:138 - Event handlers set up
2025-08-15 19:35:05,278 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:35:05,279 - core.application - INFO - application:run:188 - Starting application main loop
2025-08-15 19:35:05,280 - core.application - INFO - application:_start_background_services:206 - Starting background services
2025-08-15 19:35:05,281 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:35:05,281 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:35:07,743 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 19:35:07,774 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: 704036c1-6e70-487b-8f58-49e0a0a2c575 (mode: conversation)
2025-08-15 19:35:07,776 - core.application - INFO - application:_show_conversation:157 - Navigating to conversation
2025-08-15 19:35:09,593 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 19:35:09,593 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:35:09,595 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:35:09,687 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 19:35:10,467 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:35:14,056 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:35:16,109 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:35:16,353 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:35:17,077 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:35:18,405 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:35:18,669 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:35:21,475 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:35:21,987 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:35:22,496 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:35:23,813 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:35:26,597 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:35:28,646 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:35:28,852 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:35:30,182 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 19:35:30,182 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 19:35:30,480 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:35:31,405 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:35:32,526 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:35:32,957 - core.application - INFO - application:_cleanup:217 - Cleaning up application resources
2025-08-15 19:35:32,958 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:35:34,180 - core.event_bus - ERROR - event_bus:publish:69 - Error in event callback for tts_completed: main thread is not in main loop
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\event_bus.py", line 67, in publish
    callback(data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 281, in _on_tts_completed
    self.status_label.config(text="Ready for next input")
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 1646, in configure
    return self._configure('configure', cnf, kw)
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 1636, in _configure
    self.tk.call(_flatten((self._w, cmd)) + self._options(cnf))
RuntimeError: main thread is not in main loop
2025-08-15 19:35:35,283 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:35:35,542 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:35:35,543 - core.application - INFO - application:_cleanup:234 - Application cleanup completed
2025-08-15 19:38:09,289 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:38:09,339 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:38:11,284 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:38:11,286 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.3, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:38:11,287 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:38:11,289 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:38:11,291 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:38:11,300 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:38:11,310 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,316 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,322 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,328 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,334 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,339 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,345 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,352 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,358 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,360 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:11,381 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:38:11,386 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:38:11,394 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:38:11,396 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:38:11,402 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:38:11,412 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:38:11,419 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:38:11,419 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:38:11,419 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:38:11,419 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:38:11,419 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:38:11,419 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:38:11,419 - core.application - INFO - application:_initialize_audio_components:107 - Initializing audio components
2025-08-15 19:38:11,987 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:38:11,989 - core.application - INFO - application:_initialize_audio_components:111 - Audio components initialized successfully
2025-08-15 19:38:11,990 - core.application - INFO - application:_initialize_ai_agent:119 - Initializing AI agent
2025-08-15 19:38:11,991 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:38:11,992 - core.application - INFO - application:_initialize_ai_agent:123 - AI agent initialized successfully
2025-08-15 19:38:11,993 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:38:13,013 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:38:13,091 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:38:13,092 - __main__ - ERROR - main:main:68 - Application crashed: 'ConversationFrame' object has no attribute 'grid_remove'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 98, in _initialize_ui
    self.conversation_frame.grid_remove()
AttributeError: 'ConversationFrame' object has no attribute 'grid_remove'
2025-08-15 19:38:32,871 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:38:32,921 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:38:34,768 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:38:34,768 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.3, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:38:34,768 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:38:34,768 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:38:34,768 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:38:34,783 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:38:34,789 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,800 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,807 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,812 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,819 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,825 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,828 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,836 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,843 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,846 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:38:34,879 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:38:34,914 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:38:34,928 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:38:34,937 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:38:34,960 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:38:34,997 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:38:35,007 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:38:35,022 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:38:35,022 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:38:35,022 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:38:35,022 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:38:35,022 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:38:35,022 - core.application - INFO - application:_initialize_audio_components:107 - Initializing audio components
2025-08-15 19:38:35,579 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:38:35,579 - core.application - INFO - application:_initialize_audio_components:111 - Audio components initialized successfully
2025-08-15 19:38:35,580 - core.application - INFO - application:_initialize_ai_agent:119 - Initializing AI agent
2025-08-15 19:38:35,582 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:38:35,582 - core.application - INFO - application:_initialize_ai_agent:123 - AI agent initialized successfully
2025-08-15 19:38:35,584 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:38:36,530 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:38:36,602 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:38:36,605 - core.application - INFO - application:_initialize_ui:103 - UI components initialized
2025-08-15 19:38:36,605 - core.application - INFO - application:_setup_event_handlers:131 - Setting up event handlers
2025-08-15 19:38:36,607 - core.application - INFO - application:_setup_event_handlers:144 - Event handlers set up
2025-08-15 19:38:36,607 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:38:36,608 - core.application - INFO - application:run:200 - Starting application main loop
2025-08-15 19:38:36,608 - core.application - INFO - application:_start_background_services:218 - Starting background services
2025-08-15 19:38:36,609 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:38:36,610 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:38:38,943 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 19:38:38,971 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: 91c8403b-c2c5-4072-9956-91afa6bcf550 (mode: conversation)
2025-08-15 19:38:38,972 - core.application - INFO - application:_show_conversation:163 - Navigating to conversation
2025-08-15 19:38:40,300 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 19:38:40,300 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:38:40,302 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:38:40,404 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 19:38:41,186 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:38:44,512 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:38:45,282 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:38:47,296 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:38:47,584 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:38:48,931 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:38:50,401 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:38:50,572 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:38:51,206 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:38:51,945 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:38:52,705 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:38:53,472 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 19:38:53,475 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 19:38:55,074 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:38:55,919 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:38:57,271 - ui.conversation - INFO - conversation:_clear_conversation:206 - Conversation cleared
2025-08-15 19:38:59,142 - core.application - INFO - application:_on_closing:194 - Window closing
2025-08-15 19:38:59,144 - core.application - INFO - application:_cleanup:229 - Cleaning up application resources
2025-08-15 19:38:59,144 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:39:04,145 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:39:04,433 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:39:04,435 - core.application - INFO - application:_cleanup:246 - Application cleanup completed
2025-08-15 19:39:04,483 - core.application - INFO - application:_cleanup:229 - Cleaning up application resources
2025-08-15 19:39:04,484 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:39:06,611 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:39:06,612 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:39:06,615 - core.application - INFO - application:_cleanup:246 - Application cleanup completed
2025-08-15 19:42:32,295 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:42:32,338 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:42:34,457 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:42:34,457 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:42:34,457 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:42:34,463 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:42:34,463 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:42:34,470 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:42:34,479 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,490 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,490 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,503 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,506 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,516 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,523 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,523 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,536 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,542 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:42:34,556 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:42:34,556 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:42:34,571 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:42:34,573 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:42:34,577 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:42:34,593 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:42:34,598 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:42:34,598 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:42:34,601 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:42:34,603 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:42:34,605 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:42:34,606 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:42:34,606 - core.application - INFO - application:_initialize_audio_components:109 - Initializing audio components
2025-08-15 19:42:35,179 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:42:35,180 - core.application - INFO - application:_initialize_audio_components:113 - Audio components initialized successfully
2025-08-15 19:42:35,182 - core.application - INFO - application:_initialize_ai_agent:121 - Initializing AI agent
2025-08-15 19:42:35,182 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:42:35,184 - core.application - INFO - application:_initialize_ai_agent:125 - AI agent initialized successfully
2025-08-15 19:42:35,186 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:42:35,403 - core.application - INFO - application:_initialize_ui:80 - Creating dashboard frame...
2025-08-15 19:42:36,123 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:42:36,124 - core.application - INFO - application:_initialize_ui:87 - Creating conversation frame...
2025-08-15 19:42:36,193 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:42:36,194 - core.application - INFO - application:_initialize_ui:105 - UI components initialized
2025-08-15 19:42:36,195 - core.application - INFO - application:_setup_event_handlers:133 - Setting up event handlers
2025-08-15 19:42:36,196 - core.application - INFO - application:_setup_event_handlers:146 - Event handlers set up
2025-08-15 19:42:36,196 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:42:36,196 - core.application - INFO - application:run:202 - Starting application main loop
2025-08-15 19:42:36,197 - core.application - INFO - application:_start_background_services:220 - Starting background services
2025-08-15 19:42:36,197 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:42:36,199 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:42:40,884 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 19:42:40,907 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: 0f3a784c-45eb-499f-ad24-742aebbf036e (mode: conversation)
2025-08-15 19:42:40,909 - core.application - INFO - application:_show_conversation:165 - Navigating to conversation
2025-08-15 19:42:44,200 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 19:42:44,200 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:42:44,201 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:42:44,306 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 19:42:45,606 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:42:48,675 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:42:51,045 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:42:51,823 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:42:53,024 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:42:54,813 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:42:56,609 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:42:58,914 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:43:01,450 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:43:01,984 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:43:02,474 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:43:04,286 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:43:04,941 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 19:43:04,943 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 19:43:14,358 - core.application - INFO - application:_on_closing:196 - Window closing
2025-08-15 19:43:14,359 - core.application - INFO - application:_cleanup:231 - Cleaning up application resources
2025-08-15 19:43:14,360 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:43:19,363 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:43:19,628 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:43:19,629 - core.application - INFO - application:_cleanup:248 - Application cleanup completed
2025-08-15 19:43:19,677 - core.application - INFO - application:_cleanup:231 - Cleaning up application resources
2025-08-15 19:43:19,681 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:43:24,684 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:43:24,685 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:43:24,686 - core.application - INFO - application:_cleanup:248 - Application cleanup completed
2025-08-15 19:44:32,206 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:44:32,256 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:44:34,560 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:44:34,562 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:44:34,562 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:44:34,564 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:44:34,566 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:44:34,578 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:44:34,589 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,594 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,600 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,608 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,615 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,624 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,631 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,641 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,643 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,655 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:44:34,673 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:44:34,679 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:44:34,685 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:44:34,689 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:44:34,699 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:44:34,710 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:44:34,714 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:44:34,714 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:44:34,714 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:44:34,718 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:44:34,718 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:44:34,720 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:44:34,722 - core.application - INFO - application:_initialize_audio_components:115 - Initializing audio components
2025-08-15 19:44:35,283 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:44:35,284 - core.application - INFO - application:_initialize_audio_components:119 - Audio components initialized successfully
2025-08-15 19:44:35,285 - core.application - INFO - application:_initialize_ai_agent:127 - Initializing AI agent
2025-08-15 19:44:35,286 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:44:35,288 - core.application - INFO - application:_initialize_ai_agent:131 - AI agent initialized successfully
2025-08-15 19:44:35,290 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:44:35,401 - core.application - INFO - application:_initialize_ui:63 - Main window created: tk
2025-08-15 19:44:35,482 - core.application - INFO - application:_initialize_ui:86 - Creating dashboard frame...
2025-08-15 19:44:36,588 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:44:36,589 - core.application - INFO - application:_initialize_ui:93 - Creating conversation frame...
2025-08-15 19:44:36,662 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:44:36,663 - core.application - INFO - application:_initialize_ui:111 - UI components initialized
2025-08-15 19:44:36,664 - core.application - INFO - application:_setup_event_handlers:139 - Setting up event handlers
2025-08-15 19:44:36,665 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-15 19:44:36,665 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:44:36,666 - core.application - INFO - application:run:208 - Starting application main loop
2025-08-15 19:44:36,667 - core.application - INFO - application:_start_background_services:226 - Starting background services
2025-08-15 19:44:36,669 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:44:36,670 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:44:40,489 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 19:44:40,510 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: 82376c3e-580b-4af5-8466-f326c9971c9d (mode: conversation)
2025-08-15 19:44:40,511 - core.application - INFO - application:_show_conversation:171 - Navigating to conversation
2025-08-15 19:44:56,618 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 19:44:56,619 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:44:56,623 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:44:56,712 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 19:44:57,751 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:45:04,414 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:45:06,387 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:45:06,973 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:45:07,198 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:45:08,500 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:45:08,761 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:45:10,549 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:45:11,499 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:45:12,851 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:45:13,196 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:45:16,949 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:45:20,749 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:45:29,988 - core.application - INFO - application:_on_closing:202 - Window closing
2025-08-15 19:45:29,989 - core.application - INFO - application:_cleanup:237 - Cleaning up application resources
2025-08-15 19:45:29,991 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:45:35,006 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:45:35,381 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:45:35,382 - core.application - INFO - application:_cleanup:254 - Application cleanup completed
2025-08-15 19:45:59,034 - core.application - INFO - application:_cleanup:237 - Cleaning up application resources
2025-08-15 19:45:59,036 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:45:59,037 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:45:59,040 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 19:45:59,041 - core.application - INFO - application:_cleanup:254 - Application cleanup completed
2025-08-15 19:53:12,384 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:53:12,431 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:53:14,995 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:53:14,997 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:53:14,998 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:53:14,999 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:53:15,001 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:53:15,009 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:53:15,018 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,025 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,030 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,040 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,049 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,056 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,060 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,071 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,072 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,072 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:53:15,089 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:53:15,102 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:53:15,105 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:53:15,105 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:53:15,121 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:53:15,134 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:53:15,140 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:53:15,141 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:53:15,141 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:53:15,141 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:53:15,141 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:53:15,141 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:53:15,141 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-15 19:53:15,848 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:53:15,850 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-15 19:53:15,850 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-15 19:53:15,852 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:53:15,853 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-15 19:53:15,853 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:53:16,109 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-15 19:53:17,105 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:53:17,107 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-15 19:53:17,224 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:53:17,227 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-15 19:53:17,228 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-15 19:53:17,229 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-15 19:53:17,230 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:53:17,230 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-15 19:53:17,231 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-15 19:53:17,233 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:53:17,234 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:53:19,163 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 19:53:19,181 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: d5b0f279-6207-4e5a-934f-51a5d9e30ba0 (mode: conversation)
2025-08-15 19:53:19,184 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-15 19:53:29,433 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 19:53:29,433 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:53:29,435 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:53:29,535 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 19:53:30,315 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:53:32,876 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:53:33,903 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:53:34,695 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:53:35,703 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:53:35,956 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:53:37,237 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:53:44,916 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:53:46,022 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:53:47,179 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:53:53,356 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:53:55,156 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:53:55,916 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:54:00,782 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:54:01,932 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:54:02,955 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:54:06,413 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:54:13,322 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:54:13,583 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:54:15,858 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:54:16,890 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:54:19,081 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-15 19:54:19,083 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-15 19:54:19,084 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 19:54:20,756 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:54:22,035 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:54:23,561 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:54:24,084 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 19:58:19,882 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:58:19,904 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:58:21,108 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 19:58:21,108 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 19:58:21,108 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 19:58:21,112 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:58:21,112 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 19:58:21,128 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 19:58:21,132 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,139 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,143 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,146 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,146 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,152 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,156 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,158 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,162 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,162 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 19:58:21,175 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 19:58:21,178 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:58:21,178 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 19:58:21,178 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 19:58:21,186 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 19:58:21,193 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 19:58:21,193 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 19:58:21,193 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 19:58:21,193 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 19:58:21,193 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 19:58:21,193 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 19:58:21,193 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 19:58:21,193 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-15 19:58:21,676 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 19:58:21,677 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-15 19:58:21,678 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-15 19:58:21,678 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 19:58:21,679 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-15 19:58:21,679 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 19:58:21,834 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-15 19:58:22,480 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 19:58:22,480 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-15 19:58:22,529 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 19:58:22,530 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-15 19:58:22,530 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-15 19:58:22,530 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-15 19:58:22,531 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 19:58:22,531 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-15 19:58:22,532 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-15 19:58:22,532 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 19:58:22,533 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 19:58:25,109 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 19:58:25,125 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: b625ce60-6357-405e-8032-ecab8ddb825f (mode: conversation)
2025-08-15 19:58:25,125 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-15 19:58:37,345 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 19:58:37,345 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 19:58:37,347 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 19:58:37,422 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 19:58:38,718 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:58:42,048 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:58:45,734 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:58:46,304 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:58:47,680 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:58:49,219 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:58:50,761 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:58:51,948 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:58:59,967 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:59:03,547 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:59:05,255 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:59:05,851 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:59:14,559 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:59:16,348 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:59:16,861 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:59:18,212 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:59:19,678 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-15 19:59:20,448 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 19:59:20,780 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:59:21,566 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 19:59:22,507 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 19:59:22,509 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 19:59:23,273 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 19:59:24,053 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 20:00:35,230 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-15 20:00:35,234 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-15 20:00:35,236 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 20:00:40,237 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 20:00:40,553 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 20:00:40,554 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-15 20:00:40,573 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-15 20:00:40,574 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 20:00:45,575 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-15 20:00:45,575 - audio.voice_loop - INFO - voice_loop:cleanup:406 - VoiceLoop cleanup completed
2025-08-15 20:00:45,576 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-15 20:09:09,083 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 20:09:09,119 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 20:09:12,026 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-15 20:09:12,031 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-15 20:09:12,032 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-15 20:09:12,033 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 20:09:12,034 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-15 20:09:12,049 - data.migrations - INFO - migrations:create_migrations_table:37 - Migrations table created
2025-08-15 20:09:12,054 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,068 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,068 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,082 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,084 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,084 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,096 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,100 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,100 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,100 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: settings.key
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: settings.key
2025-08-15 20:09:12,114 - data.migrations - INFO - migrations:create_sample_data:328 - Sample user profile created
2025-08-15 20:09:12,114 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 20:09:12,114 - data.database - ERROR - database:get_connection:47 - Database operation failed: UNIQUE constraint failed: vocabulary.word, vocabulary.language
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 130, in insert
    cursor = conn.execute(query, tuple(data.values()))
sqlite3.IntegrityError: UNIQUE constraint failed: vocabulary.word, vocabulary.language
2025-08-15 20:09:12,132 - data.migrations - INFO - migrations:create_sample_data:360 - Sample data created
2025-08-15 20:09:12,132 - data.database - INFO - database:vacuum:177 - Database vacuum completed
2025-08-15 20:09:12,148 - data.database - INFO - database:analyze:183 - Database analysis completed
2025-08-15 20:09:12,150 - data.migrations - INFO - migrations:run_migrations:382 - Database migrations completed successfully
2025-08-15 20:09:12,152 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-15 20:09:12,152 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-15 20:09:12,152 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-15 20:09:12,154 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-15 20:09:12,154 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-15 20:09:12,154 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-15 20:09:12,720 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-15 20:09:12,720 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-15 20:09:12,721 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-15 20:09:12,721 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-15 20:09:12,722 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-15 20:09:12,722 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-15 20:09:12,894 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-15 20:09:13,541 - ui.dashboard - INFO - dashboard:__init__:33 - Dashboard frame initialized
2025-08-15 20:09:13,542 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-15 20:09:13,595 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-15 20:09:13,596 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-15 20:09:13,596 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-15 20:09:13,598 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-15 20:09:13,599 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-15 20:09:13,599 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-15 20:09:13,600 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-15 20:09:13,600 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-15 20:09:13,601 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-15 20:10:01,491 - ui.dashboard - INFO - dashboard:_start_conversation:131 - Starting conversation session
2025-08-15 20:10:01,501 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: feed047c-b395-483e-b764-219cce873cb5 (mode: conversation)
2025-08-15 20:10:01,501 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-15 20:10:03,272 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-15 20:10:03,272 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-15 20:10:03,275 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-15 20:10:03,362 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-15 20:10:04,380 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 20:10:06,427 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-15 20:10:08,742 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 20:10:09,673 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 20:10:14,621 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 20:10:16,419 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-15 20:10:17,501 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 20:10:18,130 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 20:10:35,358 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-15 20:10:38,182 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-15 20:10:39,797 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-15 20:10:40,556 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-15 20:10:45,036 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-15 20:10:45,038 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-15 20:10:48,577 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-15 20:10:48,578 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-15 20:10:48,578 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-15 20:10:53,578 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-18 21:55:59,864 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 21:56:50,595 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 21:56:50,688 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:01:15,902 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:01:15,945 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:01:20,053 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:01:20,056 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:01:20,056 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:01:20,056 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:01:20,056 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:01:20,056 - __main__ - ERROR - main:initialize_application:45 - Application initialization failed: run_migrations() got an unexpected keyword argument 'create_sample_data'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 39, in initialize_application
    run_migrations(db_manager, create_sample_data=True)
TypeError: run_migrations() got an unexpected keyword argument 'create_sample_data'
2025-08-18 22:04:32,812 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:04:32,848 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:04:34,008 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:04:34,019 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:04:34,020 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:04:34,021 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:04:34,021 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:04:34,023 - __main__ - ERROR - main:initialize_application:45 - Application initialization failed: run_migrations() got an unexpected keyword argument 'create_sample_data'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 39, in initialize_application
    run_migrations(db_manager, create_sample_data=True)
TypeError: run_migrations() got an unexpected keyword argument 'create_sample_data'
2025-08-18 22:07:31,748 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:07:31,780 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:07:32,856 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:07:32,861 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:07:32,861 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:07:32,862 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:07:32,864 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:07:32,864 - data.migrations - INFO - migrations:run_migrations:212 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:07:32,864 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:07:32,897 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:07:32,897 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:07:32,905 - __main__ - ERROR - main:initialize_application:45 - Application initialization failed: table user_profile has no column named username
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 39, in initialize_application
    run_migrations(db_manager, create_sample_data=True)
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\migrations.py", line 218, in run_migrations
    migration_manager.insert_sample_data()
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\migrations.py", line 165, in insert_sample_data
    cursor.execute("""
sqlite3.OperationalError: table user_profile has no column named username
2025-08-18 22:08:25,537 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:08:25,570 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:08:26,721 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:08:26,721 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:08:26,721 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:08:26,724 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:08:26,724 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:08:26,726 - data.migrations - INFO - migrations:run_migrations:241 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:08:26,726 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:08:26,728 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:08:26,731 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:08:26,735 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:08:26,735 - __main__ - ERROR - main:initialize_application:45 - Application initialization failed: table vocabulary has no column named user_id
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 39, in initialize_application
    run_migrations(db_manager, create_sample_data=True)
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\migrations.py", line 247, in run_migrations
    migration_manager.insert_sample_data()
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\migrations.py", line 210, in insert_sample_data
    cursor.execute("""
sqlite3.OperationalError: table vocabulary has no column named user_id
2025-08-18 22:09:22,736 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:09:22,762 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:09:23,836 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:09:23,836 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:09:23,836 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:09:23,836 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:09:23,845 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:09:23,846 - data.migrations - INFO - migrations:run_migrations:269 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:09:23,846 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:09:23,848 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:09:23,853 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:09:23,853 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:09:23,853 - __main__ - ERROR - main:initialize_application:45 - Application initialization failed: table learning_sessions has no column named user_id
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 39, in initialize_application
    run_migrations(db_manager, create_sample_data=True)
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\migrations.py", line 275, in run_migrations
    migration_manager.insert_sample_data()
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\migrations.py", line 244, in insert_sample_data
    cursor.execute("""
sqlite3.OperationalError: table learning_sessions has no column named user_id
2025-08-18 22:13:15,466 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:13:15,496 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:13:16,677 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:13:16,677 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:13:16,677 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:13:16,684 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:13:16,684 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:13:16,684 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:13:16,684 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:13:16,688 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:13:16,692 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:13:16,692 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:13:16,702 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:13:16,710 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:13:16,710 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:13:16,710 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:13:16,710 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:13:16,710 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:13:16,710 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-18 22:13:16,714 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:13:17,352 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:13:17,353 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:13:17,353 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:13:17,353 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:13:17,355 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:13:17,355 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:13:17,600 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:13:18,422 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:13:18,424 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:13:18,495 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:13:18,496 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:13:18,497 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:13:18,497 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:13:18,498 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:13:18,498 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:13:18,499 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:13:18,500 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-18 22:13:18,500 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:13:26,552 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:13:26,568 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: c7d2520c-4ceb-4772-a0a4-8d0948a8fe69 (mode: conversation)
2025-08-18 22:13:26,569 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:13:29,011 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:13:29,011 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:13:29,013 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:13:29,141 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:13:30,770 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:13:32,299 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:13:34,775 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:13:36,901 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:13:38,959 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:13:41,259 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:13:42,748 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:13:44,098 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:13:48,869 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-18 22:13:48,870 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-18 22:13:49,828 - data.database - ERROR - database:get_connection:47 - Database operation failed: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:13:49,832 - core.session_manager - ERROR - session_manager:_update_session_in_db:330 - Failed to update session in database: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 327, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:13:49,853 - ui.conversation - ERROR - conversation:_end_session:198 - Failed to end session: maximum recursion depth exceeded while calling a Python object
2025-08-18 22:13:55,303 - ui.conversation - INFO - conversation:_clear_conversation:206 - Conversation cleared
2025-08-18 22:13:59,559 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:13:59,559 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:13:59,561 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:14:04,562 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-18 22:14:04,827 - audio.voice_loop - INFO - voice_loop:cleanup:409 - VoiceLoop cleanup completed
2025-08-18 22:14:04,828 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-18 22:14:04,871 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:14:04,872 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:14:09,873 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-18 22:14:09,876 - audio.voice_loop - INFO - voice_loop:cleanup:409 - VoiceLoop cleanup completed
2025-08-18 22:14:09,877 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-18 22:27:20,892 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:27:20,909 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:27:22,162 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:27:22,162 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:27:22,165 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:27:22,166 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:27:22,167 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:27:22,167 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:27:22,168 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:27:22,171 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:27:22,173 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:27:22,173 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:27:22,178 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:27:22,178 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:27:22,184 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:27:22,184 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:27:22,184 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:27:22,184 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:27:22,186 - core.session_manager - INFO - session_manager:__init__:71 - SessionManager initialized
2025-08-18 22:27:22,187 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:27:22,709 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:27:22,709 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:27:22,710 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:27:22,710 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:27:22,711 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:27:22,711 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:27:22,842 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:27:23,376 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:27:23,378 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:27:23,442 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:27:23,443 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:27:23,445 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:27:23,445 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:27:23,446 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:27:23,446 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:27:23,446 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:27:23,447 - core.session_manager - INFO - session_manager:start_background_tasks:250 - Session manager background tasks started
2025-08-18 22:27:23,448 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:27:27,229 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:27:27,246 - core.session_manager - INFO - session_manager:start_session:95 - Started new session: d8cc4f35-ef84-4d78-90d8-70e1b32bc321 (mode: conversation)
2025-08-18 22:27:27,247 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:27:36,984 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:27:36,984 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:27:36,986 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:27:37,073 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:27:38,108 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:27:39,898 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:27:41,403 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:27:42,458 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:27:43,039 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:27:43,490 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:27:44,771 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:27:45,788 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:27:45,931 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:27:47,961 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:27:47,964 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:27:49,183 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:27:51,679 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:27:51,981 - data.database - ERROR - database:get_connection:47 - Database operation failed: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:27:51,985 - core.session_manager - ERROR - session_manager:_update_session_in_db:330 - Failed to update session in database: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 327, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:27:52,010 - ui.conversation - ERROR - conversation:_end_session:198 - Failed to end session: maximum recursion depth exceeded while calling a Python object
2025-08-18 22:27:52,698 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:27:54,491 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:27:55,518 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:27:55,615 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:27:56,526 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:27:56,527 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:27:56,529 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:27:56,774 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:27:56,774 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:27:58,851 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:28:01,531 - core.session_manager - INFO - session_manager:stop_background_tasks:260 - Session manager background tasks stopped
2025-08-18 22:28:06,872 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:31:44,060 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:31:44,085 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:31:45,319 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:31:45,319 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:31:45,319 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:31:45,321 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:31:45,322 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:31:45,322 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:31:45,323 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:31:45,326 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:31:45,329 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:31:45,331 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:31:45,335 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:31:45,337 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:31:45,338 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:31:45,338 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:31:45,340 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:31:45,340 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:31:45,340 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-18 22:31:45,340 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:31:45,828 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:31:45,829 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:31:45,830 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:31:45,831 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:31:45,831 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:31:45,832 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:31:45,960 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:31:46,628 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:31:46,630 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:31:46,703 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:31:46,704 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:31:46,705 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:31:46,706 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:31:46,706 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:31:46,707 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:31:46,708 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:31:46,709 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-18 22:31:46,710 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:31:48,695 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:31:48,717 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 68016608-3b31-40d8-b71a-cb3c4f2d01fe (mode: conversation)
2025-08-18 22:31:48,718 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:31:50,076 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:31:50,076 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:31:50,077 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:31:50,163 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:31:51,462 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:31:54,271 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-18 22:31:55,967 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:31:56,830 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:31:56,997 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:31:58,621 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-18 22:31:59,858 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:32:01,090 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:32:08,103 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:32:09,630 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-18 22:32:09,891 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:32:11,740 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:32:12,190 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-18 22:32:12,450 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:32:14,488 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:32:15,221 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:32:16,030 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-18 22:32:17,266 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:32:17,675 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:32:28,320 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:32:29,600 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-18 22:32:31,358 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:32:32,423 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:32:36,420 - data.database - ERROR - database:get_connection:47 - Database operation failed: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:32:36,424 - core.session_manager - ERROR - session_manager:_update_session_in_db:331 - Failed to update session in database: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 328, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:32:36,450 - ui.conversation - ERROR - conversation:_end_session:198 - Failed to end session: maximum recursion depth exceeded while calling a Python object
2025-08-18 22:32:39,214 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='68016608-3b31-40d8-b71a-cb3c4f2d01fe', started_at=datetime.datetime(2025, 8, 18, 22, 31, 48, 697602), ended_at=datetime.datetime(2025, 8, 18, 22, 32, 36, 417577), duration_seconds=47, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes=...)
2025-08-18 22:32:41,639 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:32:41,640 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:32:41,641 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:32:46,643 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-18 22:40:56,484 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:40:56,518 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:40:58,320 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:40:58,320 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:40:58,320 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:40:58,320 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:40:58,320 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:40:58,329 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:40:58,329 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:40:58,335 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:40:58,337 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:40:58,341 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:40:58,349 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:40:58,355 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:40:58,356 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:40:58,356 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:40:58,356 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:40:58,356 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:40:58,356 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-18 22:40:58,361 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:40:59,104 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:40:59,105 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:40:59,106 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:40:59,107 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:40:59,108 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:40:59,108 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:40:59,308 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:41:00,227 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:41:00,231 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:41:00,326 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:41:00,328 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:41:00,329 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:41:00,331 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:41:00,332 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:41:00,333 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:41:00,334 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:41:00,335 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-18 22:41:00,336 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:41:02,881 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:41:02,905 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 8e521ad4-4d8e-4bff-b7c5-d2114204e1ec (mode: conversation)
2025-08-18 22:41:02,906 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:41:08,469 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:41:08,469 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:41:08,471 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:41:08,584 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:41:14,233 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:41:15,764 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-18 22:41:18,143 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:41:18,962 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:41:40,087 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:41:42,391 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-18 22:41:46,784 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:41:47,836 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:41:51,943 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-18 22:41:51,944 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-18 22:41:53,350 - data.database - ERROR - database:get_connection:47 - Database operation failed: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 43, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:41:53,358 - core.session_manager - ERROR - session_manager:_update_session_in_db:331 - Failed to update session in database: Error binding parameter 2 - probably unsupported type.
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 328, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 140, in update
    cursor = conn.execute(query, tuple(data.values()) + where_params)
sqlite3.InterfaceError: Error binding parameter 2 - probably unsupported type.
2025-08-18 22:41:53,400 - ui.conversation - ERROR - conversation:_end_session:198 - Failed to end session: maximum recursion depth exceeded while calling a Python object
2025-08-18 22:41:58,489 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:41:58,491 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:41:58,493 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:42:00,349 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-18 22:42:00,620 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-18 22:42:00,621 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-18 22:42:00,673 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:42:00,674 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:42:00,676 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-18 22:42:00,676 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-18 22:42:00,677 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-18 22:47:05,991 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:47:06,028 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:47:07,843 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:47:07,843 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:47:07,850 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:47:07,853 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:47:07,853 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:47:07,853 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:47:07,856 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:47:07,860 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:47:07,864 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:47:07,867 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:47:07,867 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:47:07,876 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:47:07,876 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:47:07,876 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:47:07,880 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:47:07,881 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:47:07,882 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-18 22:47:07,883 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:47:08,514 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:47:08,515 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:47:08,516 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:47:08,517 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:47:08,518 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:47:08,520 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:47:08,736 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:47:09,635 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:47:09,638 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:47:09,736 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:47:09,738 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:47:09,738 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:47:09,739 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:47:09,740 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:47:09,742 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:47:09,744 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:47:09,745 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-18 22:47:09,746 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:47:11,967 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:47:11,992 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 7a079d3b-7852-4d17-99fb-782da2d68251 (mode: conversation)
2025-08-18 22:47:11,993 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:47:13,644 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:47:13,644 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:47:13,646 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:47:13,752 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:47:25,802 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:47:27,855 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-18 22:47:30,879 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:47:31,700 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:48:25,913 - ui.conversation - ERROR - conversation:_end_session:198 - Failed to end session: maximum recursion depth exceeded while calling a Python object
2025-08-18 22:48:30,181 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:48:30,183 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:48:30,184 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:48:35,185 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-18 22:49:35,538 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:49:35,569 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:49:37,712 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:49:37,713 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:49:37,713 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:49:37,715 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:49:37,715 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:49:37,717 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:49:37,718 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:49:37,722 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:49:37,725 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:49:37,728 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:49:37,738 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:49:37,743 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:49:37,743 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:49:37,743 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:49:37,743 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:49:37,743 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:49:37,743 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-18 22:49:37,743 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:49:38,282 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:49:38,283 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:49:38,284 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:49:38,285 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:49:38,286 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:49:38,287 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:49:38,464 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:49:39,379 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:49:39,382 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:49:39,490 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:49:39,492 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:49:39,493 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:49:39,493 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:49:39,494 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:49:39,495 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:49:39,495 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:49:39,496 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-18 22:49:39,497 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:49:40,878 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:49:40,891 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 88b46b2d-6248-4eec-b485-af935363da39 (mode: conversation)
2025-08-18 22:49:40,892 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:49:41,926 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:49:41,926 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:49:41,928 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:49:42,017 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:50:00,682 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 88b46b2d-6248-4eec-b485-af935363da39 (duration: 19s)
2025-08-18 22:50:00,683 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='88b46b2d-6248-4eec-b485-af935363da39', started_at=datetime.datetime(2025, 8, 18, 22, 49, 40, 879012), ended_at=datetime.datetime(2025, 8, 18, 22, 50, 0, 659386), duration_seconds=19, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-18 22:50:23,222 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:50:23,222 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:50:23,223 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:50:28,224 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-18 22:50:28,499 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-18 22:50:28,500 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-18 22:50:28,553 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:50:28,554 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:50:33,556 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-18 22:50:33,558 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-18 22:50:33,560 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-18 22:52:42,027 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:52:42,062 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:52:43,831 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-18 22:52:43,831 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-18 22:52:43,831 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-18 22:52:43,831 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:52:43,842 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-18 22:52:43,842 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:52:43,842 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-18 22:52:43,850 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-18 22:52:43,852 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-18 22:52:43,852 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-18 22:52:43,865 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-18 22:52:43,871 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-18 22:52:43,871 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-18 22:52:43,871 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-18 22:52:43,874 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-18 22:52:43,874 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-18 22:52:43,874 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-18 22:52:43,876 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-18 22:52:44,422 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-18 22:52:44,429 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-18 22:52:44,429 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-18 22:52:44,431 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-18 22:52:44,432 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-18 22:52:44,434 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-18 22:52:44,630 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-18 22:52:45,602 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-18 22:52:45,605 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-18 22:52:45,714 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-18 22:52:45,722 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-18 22:52:45,724 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-18 22:52:45,725 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-18 22:52:45,726 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-18 22:52:45,727 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-18 22:52:45,727 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-18 22:52:45,729 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-18 22:52:45,730 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-18 22:52:46,817 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-18 22:52:46,838 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 21e7b141-51b5-4e32-a540-e73a3679bdfe (mode: conversation)
2025-08-18 22:52:46,839 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-18 22:52:50,023 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-18 22:52:50,023 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-18 22:52:50,025 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-18 22:52:50,121 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-18 22:52:51,161 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:52:54,492 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:52:56,714 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:52:57,302 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:52:58,330 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:52:59,257 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:52:59,349 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:52:59,580 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:53:00,630 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:53:01,222 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:53:03,676 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:53:04,729 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:53:06,522 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:53:07,781 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:53:08,308 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:53:08,801 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:53:09,342 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:53:10,231 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:53:10,246 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 21e7b141-51b5-4e32-a540-e73a3679bdfe (duration: 23s)
2025-08-18 22:53:10,248 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='21e7b141-51b5-4e32-a540-e73a3679bdfe', started_at=datetime.datetime(2025, 8, 18, 22, 52, 46, 818686), ended_at=datetime.datetime(2025, 8, 18, 22, 53, 10, 226441), duration_seconds=23, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-18 22:53:10,844 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-18 22:53:12,411 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-18 22:53:13,431 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-18 22:53:14,594 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-18 22:53:15,398 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-18 22:53:15,400 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-18 22:53:15,401 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-18 22:53:15,730 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:14:00,620 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:14:00,678 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:14:05,507 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:14:05,508 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:14:05,509 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:14:05,510 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:14:05,510 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:14:05,510 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:14:05,511 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:14:05,523 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:14:05,525 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:14:05,527 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:14:05,531 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:14:05,534 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:14:05,535 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:14:05,535 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:14:05,536 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:14:05,537 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:14:05,537 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:14:05,537 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:14:06,079 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:14:06,079 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:14:06,080 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:14:06,081 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:14:06,081 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:14:06,081 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:14:06,291 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:14:07,109 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 17:14:07,111 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:14:07,184 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:14:07,185 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:14:07,185 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:14:07,187 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:14:07,187 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:14:07,188 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:14:07,188 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:14:07,189 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:14:07,189 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:14:15,631 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-23 17:14:15,641 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 616a37a3-9230-4a11-bbb8-ee91ab45a192 (mode: conversation)
2025-08-23 17:14:15,641 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:14:18,643 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:14:18,643 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:14:18,645 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:14:18,750 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:14:20,558 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:14:22,607 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:14:26,141 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:14:27,428 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:14:30,797 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:14:33,869 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:14:35,506 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:14:38,885 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:14:43,088 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:14:44,630 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:14:46,676 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:14:56,909 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:14:58,190 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:14:59,386 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:15:03,830 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:15:04,848 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:15:07,346 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:15:07,917 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:15:08,235 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:15:08,950 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:15:09,800 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:15:11,247 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:15:12,270 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:15:13,094 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-23 17:15:13,096 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-23 17:15:13,650 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:15:15,119 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 616a37a3-9230-4a11-bbb8-ee91ab45a192 (duration: 59s)
2025-08-23 17:15:15,119 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='616a37a3-9230-4a11-bbb8-ee91ab45a192', started_at=datetime.datetime(2025, 8, 23, 17, 14, 15, 631828), ended_at=datetime.datetime(2025, 8, 23, 17, 15, 15, 113955), duration_seconds=59, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:15:19,812 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:15:19,813 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:15:19,814 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:15:24,815 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:15:25,088 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-23 17:15:25,089 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:15:25,112 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:15:25,113 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:15:30,114 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:15:30,116 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-23 17:15:30,117 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:17:01,835 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:17:01,876 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:17:03,365 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:17:03,366 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:17:03,367 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:17:03,368 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:17:03,368 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:17:03,369 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:17:03,369 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:17:03,376 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:17:03,378 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:17:03,380 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:17:03,383 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:17:03,386 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:17:03,386 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:17:03,387 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:17:03,387 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:17:03,389 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:17:03,390 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:17:03,392 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:17:03,898 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:17:03,899 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:17:03,899 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:17:03,900 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:17:03,901 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:17:03,901 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:17:04,059 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:17:05,232 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 17:17:05,234 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:17:05,329 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:17:05,330 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:17:05,331 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:17:05,331 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:17:05,333 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:17:05,333 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:17:05,334 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:17:05,335 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:17:05,336 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:17:07,208 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-23 17:17:07,217 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 67198c49-0360-4950-8546-355f346ee92d (mode: conversation)
2025-08-23 17:17:07,218 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:17:17,281 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:17:17,281 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:17:17,283 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:17:17,356 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:17:18,135 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:17:20,444 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:17:23,003 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:17:23,194 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:17:24,024 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:17:24,452 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:17:25,977 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:17:27,615 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:17:31,193 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:17:33,635 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:17:34,461 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:17:40,153 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:17:42,977 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:17:44,628 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:17:46,397 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:17:49,883 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:17:52,694 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:17:54,473 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:18:05,753 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:18:08,057 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:18:09,573 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:18:12,416 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:18:13,943 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:18:14,733 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:18:15,222 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:18:15,994 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:18:17,038 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:18:17,591 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:18:19,083 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 67198c49-0360-4950-8546-355f346ee92d (duration: 71s)
2025-08-23 17:18:19,083 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='67198c49-0360-4950-8546-355f346ee92d', started_at=datetime.datetime(2025, 8, 23, 17, 17, 7, 209195), ended_at=datetime.datetime(2025, 8, 23, 17, 18, 19, 76788), duration_seconds=71, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:18:22,628 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:18:22,629 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:18:22,629 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:18:23,414 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:18:25,214 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:18:25,723 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:18:26,496 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:18:27,257 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:18:27,624 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:18:27,631 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:18:27,736 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:18:33,067 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:19:21,155 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:19:21,200 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:19:25,528 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:19:25,528 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:19:25,528 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:19:25,532 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:19:25,532 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:19:25,532 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:19:25,532 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:19:25,546 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:19:25,559 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:19:25,564 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:19:25,567 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:19:25,575 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:19:25,577 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:19:25,578 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:19:25,579 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:19:25,580 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:19:25,581 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:19:25,582 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:19:26,300 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:19:26,302 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:19:26,304 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:19:26,306 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:19:26,307 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:19:26,309 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:19:26,568 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:19:28,350 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 17:19:28,354 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:19:28,493 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:19:28,494 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:19:28,495 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:19:28,497 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:19:28,498 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:19:28,499 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:19:28,500 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:19:28,501 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:19:28,502 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:19:30,288 - ui.dashboard - INFO - dashboard:_start_conversation:406 - Starting conversation session
2025-08-23 17:19:30,306 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: b0e26e25-4db3-46e7-ad30-b87019211611 (mode: conversation)
2025-08-23 17:19:30,307 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:19:36,626 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:19:36,626 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:19:36,628 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:19:36,749 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:19:38,107 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:19:39,131 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:19:41,705 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:19:43,489 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:19:43,853 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:19:46,050 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:19:47,839 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:19:48,215 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:19:50,139 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:19:51,173 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:19:51,831 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:19:51,930 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:19:52,188 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:19:52,720 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:19:53,208 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:19:53,321 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:19:54,543 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:19:58,852 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:20:00,130 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:20:02,937 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:20:04,285 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:20:04,986 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:20:05,389 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:20:06,236 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:20:06,266 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:20:07,036 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:20:07,201 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:20:08,217 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:20:08,923 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:20:13,947 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:20:14,034 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-23 17:20:14,034 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-23 17:20:15,639 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:20:28,564 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:20:28,565 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:20:28,565 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:20:33,566 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:20:33,835 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-23 17:20:33,836 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:20:33,864 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:20:33,866 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:20:38,868 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:20:38,868 - audio.voice_loop - INFO - voice_loop:cleanup:425 - VoiceLoop cleanup completed
2025-08-23 17:20:38,869 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:32:47,962 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:32:47,985 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:32:50,039 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:32:50,039 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'en', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:32:50,040 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:32:50,041 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:32:50,041 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:32:50,041 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:32:50,043 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:32:50,050 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:32:50,051 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:32:50,053 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:32:50,056 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:32:50,057 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:32:50,057 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:32:50,057 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:32:50,057 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:32:50,057 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:32:50,057 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:32:50,057 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:32:50,570 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:32:50,571 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:32:50,571 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:32:50,572 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:32:50,572 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:32:50,572 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:32:50,697 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:32:51,307 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:32:51,308 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:32:51,367 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:32:51,368 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:32:51,369 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:32:51,369 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:32:51,369 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:32:51,369 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:32:51,371 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:32:51,371 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:32:51,372 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:32:52,380 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:32:52,396 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 9e3a09ba-e6c3-45a0-bef6-23ddbe9f20ef (mode: conversation)
2025-08-23 17:32:52,397 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:32:55,423 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:32:55,423 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:32:55,430 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:32:55,519 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:32:56,548 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:32:58,348 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:01,633 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:02,224 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:33:03,469 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:04,229 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:04,996 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:08,366 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:08,588 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:09,383 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:09,606 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:10,081 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:33:10,376 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:11,006 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:13,708 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:14,468 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:14,988 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:15,306 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:15,749 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:16,268 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:16,324 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:33:17,029 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:17,077 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:17,912 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:33:18,325 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:27,016 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:28,806 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:29,999 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:31,094 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:33:35,716 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:36,489 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:38,240 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:45,956 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:48,515 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:50,403 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:51,374 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:33:53,126 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:33:53,896 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:33:55,644 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:33:56,556 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:34:02,197 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 9e3a09ba-e6c3-45a0-bef6-23ddbe9f20ef (duration: 69s)
2025-08-23 17:34:02,198 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='9e3a09ba-e6c3-45a0-bef6-23ddbe9f20ef', started_at=datetime.datetime(2025, 8, 23, 17, 32, 52, 387806), ended_at=datetime.datetime(2025, 8, 23, 17, 34, 2, 184282), duration_seconds=69, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:34:02,348 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:34:03,107 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:34:04,423 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:34:06,455 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:34:06,456 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:34:06,456 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:34:06,696 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:34:10,788 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:34:11,458 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:34:11,699 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:34:11,700 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:34:11,751 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:34:11,752 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:34:12,036 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:34:16,754 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:34:16,755 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:34:16,755 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:34:43,854 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:34:43,875 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:34:44,767 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:34:44,767 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'en', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:34:44,768 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:34:44,769 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:34:44,769 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:34:44,769 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:34:44,770 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:34:44,773 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:34:44,775 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:34:44,777 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:34:44,779 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:34:44,781 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:34:44,782 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:34:44,782 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:34:44,782 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:34:44,784 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:34:44,784 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:34:44,785 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:34:45,231 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:34:45,231 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:34:45,232 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:34:45,233 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:34:45,233 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:34:45,233 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:34:45,353 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:34:46,092 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:34:46,093 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:34:46,195 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:34:46,197 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:34:46,198 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:34:46,198 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:34:46,199 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:34:46,199 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:34:46,200 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:34:46,201 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:34:46,202 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:34:49,630 - ui.dashboard - INFO - dashboard:_on_language_changed:444 - Language changed to: en
2025-08-23 17:34:54,185 - ui.dashboard - INFO - dashboard:_on_language_changed:444 - Language changed to: ru
2025-08-23 17:34:56,426 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:34:56,445 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 26a8a7d3-c1a2-4d4e-9b29-edef0614ea38 (mode: conversation)
2025-08-23 17:34:56,446 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:35:03,651 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:35:03,651 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:35:03,653 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:35:03,719 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:35:04,497 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:06,297 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:07,494 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:08,284 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:09,617 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:10,384 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:11,699 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:12,361 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:23,697 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:24,464 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:25,497 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:27,024 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:27,170 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:27,795 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:27,910 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:28,485 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:29,202 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:29,845 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:31,842 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:33,367 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:44,434 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:45,203 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:46,225 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:49,618 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:51,097 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:52,084 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:52,884 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:35:53,057 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:53,526 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:35:53,656 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (0.8s) - processing audio...
2025-08-23 17:35:54,518 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 26a8a7d3-c1a2-4d4e-9b29-edef0614ea38 (duration: 58s)
2025-08-23 17:35:54,521 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='26a8a7d3-c1a2-4d4e-9b29-edef0614ea38', started_at=datetime.datetime(2025, 8, 23, 17, 34, 56, 427117), ended_at=datetime.datetime(2025, 8, 23, 17, 35, 54, 497799), duration_seconds=58, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:35:55,069 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:35:56,834 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:35:56,834 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:35:56,837 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:35:59,083 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:36:01,837 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:36:02,101 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:36:02,102 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:36:02,126 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:36:02,127 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:36:07,129 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:36:07,130 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:36:07,130 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:37:49,901 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:37:50,050 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:37:51,648 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:37:51,649 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:37:51,650 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:37:51,651 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:37:51,651 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:37:51,653 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:37:51,653 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:37:51,656 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:37:51,657 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:37:51,660 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:37:51,669 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:37:51,673 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:37:51,673 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:37:51,674 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:37:51,675 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:37:51,676 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:37:51,677 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:37:51,677 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:37:52,161 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:37:52,161 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:37:52,162 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:37:52,162 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:37:52,164 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:37:52,164 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:37:52,315 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:37:53,115 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:37:53,116 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:37:53,209 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:37:53,210 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:37:53,211 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:37:53,211 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:37:53,212 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:37:53,213 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:37:53,214 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:37:53,215 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:37:53,215 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:37:55,594 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:37:55,610 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: b4d34a2c-0f48-4bdb-beee-a15eab31bd53 (mode: conversation)
2025-08-23 17:37:55,611 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:37:57,359 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:37:57,359 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:37:57,361 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:37:57,430 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:37:58,209 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:38:01,026 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:38:02,825 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:38:03,688 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:38:04,097 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:38:05,129 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:38:06,406 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:38:06,982 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:38:12,037 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:38:13,826 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:38:14,803 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:38:15,990 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:38:25,856 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:38:30,467 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:38:32,310 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:38:32,977 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:38:39,169 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:38:52,489 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:38:53,249 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:38:54,559 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:38:55,382 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:38:56,576 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:38:57,417 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:38:58,258 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:39:06,049 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:39:07,077 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:39:07,335 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:39:10,049 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:39:10,916 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:39:11,014 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:39:11,689 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:39:11,873 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:39:12,852 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:39:13,475 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.0s) - processing audio...
2025-08-23 17:39:15,101 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: b4d34a2c-0f48-4bdb-beee-a15eab31bd53 (duration: 79s)
2025-08-23 17:39:15,102 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='b4d34a2c-0f48-4bdb-beee-a15eab31bd53', started_at=datetime.datetime(2025, 8, 23, 17, 37, 55, 594793), ended_at=datetime.datetime(2025, 8, 23, 17, 39, 15, 82677), duration_seconds=79, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:39:15,484 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:39:16,533 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:39:18,662 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:39:18,662 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:39:18,663 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:39:23,209 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:39:23,238 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:39:27,495 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:41:14,197 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:41:14,236 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:41:15,604 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:41:15,605 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:41:15,606 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:41:15,607 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:41:15,608 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:41:15,608 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:41:15,608 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:41:15,613 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:41:15,615 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:41:15,618 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:41:15,621 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:41:15,624 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:41:15,625 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:41:15,625 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:41:15,626 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:41:15,627 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:41:15,627 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:41:15,628 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:41:16,123 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:41:16,124 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:41:16,125 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:41:16,125 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:41:16,126 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:41:16,127 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:41:16,274 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:41:17,069 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:41:17,070 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:41:17,161 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:41:17,162 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:41:17,163 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:41:17,164 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:41:17,165 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:41:17,165 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:41:17,166 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:41:17,168 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:41:17,168 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:41:18,307 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:41:18,329 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 35811e6e-b62f-4d66-ab0e-05169ba687c2 (mode: conversation)
2025-08-23 17:41:18,329 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:41:26,383 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:41:26,383 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:41:26,384 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:41:26,451 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:41:27,748 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:41:31,326 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:41:33,003 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:41:33,798 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:41:37,726 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:41:39,777 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:41:40,438 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:41:41,282 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:41:57,437 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:41:59,229 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:41:59,486 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:42:01,911 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:42:02,673 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:42:06,656 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:42:07,285 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-23 17:42:07,287 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-23 17:42:07,902 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:42:08,648 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:42:10,625 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:42:10,626 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:42:10,627 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:42:15,628 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:42:15,881 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:42:15,882 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:42:15,926 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:42:15,927 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:42:17,182 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:42:17,182 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:42:17,184 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:43:39,247 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:43:39,282 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:43:40,688 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:43:40,690 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:43:40,690 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:43:40,691 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:43:40,692 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:43:40,692 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:43:40,693 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:43:40,702 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:43:40,704 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:43:40,707 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:43:40,710 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:43:40,714 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:43:40,714 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:43:40,715 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:43:40,716 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:43:40,718 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:43:40,718 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:43:40,719 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:43:41,227 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:43:41,227 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:43:41,229 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:43:41,229 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:43:41,230 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:43:41,231 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:43:41,383 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:43:42,475 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:43:42,477 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:43:42,594 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:43:42,595 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:43:42,596 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:43:42,597 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:43:42,598 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:43:42,599 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:43:42,600 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:43:42,601 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:43:42,602 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:43:43,690 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:43:43,704 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 4b85c519-6eba-48a3-8744-cd38e2b36ee5 (mode: conversation)
2025-08-23 17:43:43,705 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:43:46,033 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:43:46,033 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:43:46,035 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:43:46,109 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:43:47,656 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:43:49,969 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:43:51,756 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:43:52,457 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:43:53,175 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:43:53,291 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:43:54,910 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:43:55,440 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:44:10,697 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:44:12,236 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:44:13,596 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:44:14,147 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:44:14,538 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:44:16,078 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:44:16,976 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:44:17,534 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:44:23,226 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 4b85c519-6eba-48a3-8744-cd38e2b36ee5 (duration: 39s)
2025-08-23 17:44:23,227 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='4b85c519-6eba-48a3-8744-cd38e2b36ee5', started_at=datetime.datetime(2025, 8, 23, 17, 43, 43, 691651), ended_at=datetime.datetime(2025, 8, 23, 17, 44, 23, 210514), duration_seconds=39, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:44:26,819 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:44:26,820 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:44:26,821 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:44:31,822 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:44:42,663 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:44:42,702 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:44:44,111 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:44:44,116 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:44:44,117 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:44:44,119 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:44:44,119 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:44:44,120 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:44:44,120 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:44:44,126 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:44:44,129 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:44:44,138 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:44:44,144 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:44:44,148 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:44:44,150 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:44:44,151 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:44:44,151 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:44:44,152 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:44:44,153 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:44:44,154 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:44:44,688 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:44:44,689 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:44:44,690 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:44:44,690 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:44:44,691 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:44:44,692 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:44:44,841 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:44:45,604 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:44:45,606 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:44:45,702 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:44:45,703 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:44:45,704 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:44:45,704 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:44:45,704 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:44:45,706 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:44:45,707 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:44:45,708 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:44:45,708 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:44:46,875 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:44:46,896 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 12d87a7d-f160-409e-ae43-3948323bd73a (mode: conversation)
2025-08-23 17:44:46,897 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:44:48,686 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:44:48,686 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:44:48,687 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:44:48,767 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:44:49,546 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:44:52,364 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:44:53,984 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:44:54,576 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:44:59,027 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:45:01,833 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:45:02,093 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:45:03,086 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:45:03,769 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:45:03,791 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 12d87a7d-f160-409e-ae43-3948323bd73a (duration: 16s)
2025-08-23 17:45:03,824 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='12d87a7d-f160-409e-ae43-3948323bd73a', started_at=datetime.datetime(2025, 8, 23, 17, 44, 46, 877000), ended_at=datetime.datetime(2025, 8, 23, 17, 45, 3, 774600), duration_seconds=16, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:45:07,254 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:45:07,255 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:45:07,256 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:45:12,256 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:45:12,525 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:45:12,525 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:45:12,568 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:45:12,569 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:45:13,821 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:45:14,831 - core.event_bus - ERROR - event_bus:publish:69 - Error in event callback for user_message: main thread is not in main loop
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\event_bus.py", line 67, in publish
    callback(data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 263, in _on_user_message
    self._add_message("User", text, "user")
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 224, in _add_message
    self.conversation_text.insert(tk.END, formatted_message)
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 3743, in insert
    self.tk.call((self._w, 'insert', index, chars) + args)
RuntimeError: main thread is not in main loop
2025-08-23 17:45:15,708 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:45:15,709 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:45:15,709 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:45:20,012 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:45:20,055 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:45:21,605 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:45:21,606 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:45:21,607 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:45:21,608 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:45:21,608 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:45:21,609 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:45:21,610 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:45:21,615 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:45:21,617 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:45:21,621 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:45:21,630 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:45:21,633 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:45:21,634 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:45:21,634 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:45:21,636 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:45:21,636 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:45:21,638 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:45:21,638 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:45:22,108 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:45:22,109 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:45:22,111 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:45:22,112 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:45:22,112 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:45:22,113 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:45:22,270 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:45:23,251 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:45:23,253 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:45:23,408 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:45:23,409 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:45:23,410 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:45:23,411 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:45:23,412 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:45:23,413 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:45:23,413 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:45:23,415 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:45:23,416 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:45:24,568 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:45:24,587 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 3740f144-f6b0-4c35-9279-8b465078efc7 (mode: conversation)
2025-08-23 17:45:24,588 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:45:26,557 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:45:26,557 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:45:26,558 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:45:26,620 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:45:27,918 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:45:31,496 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:45:33,798 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:45:34,439 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:45:35,176 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:45:35,335 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:45:36,124 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:45:36,831 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:45:41,542 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 3740f144-f6b0-4c35-9279-8b465078efc7 (duration: 16s)
2025-08-23 17:45:41,544 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='3740f144-f6b0-4c35-9279-8b465078efc7', started_at=datetime.datetime(2025, 8, 23, 17, 45, 24, 569916), ended_at=datetime.datetime(2025, 8, 23, 17, 45, 41, 530020), duration_seconds=16, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:45:52,486 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:45:54,025 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:45:55,647 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:45:56,144 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:46:07,637 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:46:07,638 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:46:07,639 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:46:07,845 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:46:09,386 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:46:10,545 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:46:11,176 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:46:12,641 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:46:12,914 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:46:12,915 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:46:12,955 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:46:12,958 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:46:14,483 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:46:15,490 - core.event_bus - ERROR - event_bus:publish:69 - Error in event callback for user_message: main thread is not in main loop
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\event_bus.py", line 67, in publish
    callback(data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 263, in _on_user_message
    self._add_message("User", text, "user")
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 224, in _add_message
    self.conversation_text.insert(tk.END, formatted_message)
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 3743, in insert
    self.tk.call((self._w, 'insert', index, chars) + args)
RuntimeError: main thread is not in main loop
2025-08-23 17:46:16,019 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:46:17,030 - core.event_bus - ERROR - event_bus:publish:69 - Error in event callback for ai_response: main thread is not in main loop
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\event_bus.py", line 67, in publish
    callback(data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 270, in _on_ai_response
    self._add_message("AI", text, "ai")
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 224, in _add_message
    self.conversation_text.insert(tk.END, formatted_message)
  File "C:\Users\nolan\Anaconda3\lib\tkinter\__init__.py", line 3743, in insert
    self.tk.call((self._w, 'insert', index, chars) + args)
RuntimeError: main thread is not in main loop
2025-08-23 17:46:17,959 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:46:17,960 - audio.voice_loop - INFO - voice_loop:cleanup:464 - VoiceLoop cleanup completed
2025-08-23 17:46:17,961 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:50:59,593 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:50:59,613 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:51:00,613 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 17:51:00,613 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 17:51:00,621 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 17:51:00,622 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:51:00,623 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 17:51:00,623 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:51:00,623 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 17:51:00,627 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 17:51:00,628 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 17:51:00,631 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 17:51:00,634 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 17:51:00,637 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 17:51:00,637 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 17:51:00,638 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 17:51:00,639 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 17:51:00,639 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 17:51:00,640 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 17:51:00,641 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 17:51:01,115 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 17:51:01,116 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 17:51:01,117 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 17:51:01,118 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 17:51:01,118 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 17:51:01,119 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 17:51:01,259 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 17:51:02,117 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 17:51:02,118 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 17:51:02,217 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 17:51:02,218 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 17:51:02,219 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 17:51:02,221 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 17:51:02,222 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 17:51:02,222 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 17:51:02,223 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 17:51:02,224 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 17:51:02,225 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 17:51:03,816 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 17:51:03,834 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 8b0bc071-0ed9-43d1-8af8-2293e6214744 (mode: conversation)
2025-08-23 17:51:03,835 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 17:51:05,376 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:119 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 17:51:05,376 - audio.voice_loop - INFO - voice_loop:start_recording:88 - Recording started
2025-08-23 17:51:05,377 - ui.conversation - INFO - conversation:_start_recording:163 - Recording started
2025-08-23 17:51:05,441 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:145 - Audio stream opened, starting VAD
2025-08-23 17:51:06,987 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:51:09,299 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:51:11,864 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:51:12,417 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:51:17,997 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:51:19,539 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:51:20,709 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:51:21,756 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:51:31,059 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:51:33,357 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:51:33,619 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:51:36,040 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:51:36,826 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:51:50,507 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:51:52,028 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:51:52,557 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:51:52,802 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:51:55,117 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:51:56,634 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:51:57,686 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:52:05,099 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:52:06,637 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:52:08,462 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:52:09,042 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:52:18,927 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:52:21,740 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:52:24,715 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:52:25,779 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:52:54,506 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:52:56,299 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:52:56,557 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:52:58,859 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:52:58,963 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:53:00,099 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:53:00,236 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:53:03,650 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:53:29,836 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:53:31,378 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:53:32,139 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:159 - 🎤 Speech detected - recording...
2025-08-23 17:53:33,676 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:167 - 🔇 Silence detected (1.5s) - processing audio...
2025-08-23 17:53:34,412 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:53:35,582 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:53:38,305 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 17:53:39,686 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 17:53:44,066 - audio.voice_loop - INFO - voice_loop:stop_recording:106 - Recording stopped
2025-08-23 17:53:44,067 - ui.conversation - INFO - conversation:_stop_recording:178 - Recording stopped
2025-08-23 17:53:51,207 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 8b0bc071-0ed9-43d1-8af8-2293e6214744 (duration: 167s)
2025-08-23 17:53:51,208 - ui.conversation - INFO - conversation:_end_session:193 - Session ended: SessionState(session_id='8b0bc071-0ed9-43d1-8af8-2293e6214744', started_at=datetime.datetime(2025, 8, 23, 17, 51, 3, 818340), ended_at=datetime.datetime(2025, 8, 23, 17, 53, 51, 186138), duration_seconds=167, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 17:53:55,775 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 17:53:55,776 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:53:55,776 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:54:00,778 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:54:01,031 - audio.voice_loop - INFO - voice_loop:cleanup:499 - VoiceLoop cleanup completed
2025-08-23 17:54:01,032 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 17:54:01,052 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 17:54:01,053 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 17:54:02,295 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 17:54:02,296 - audio.voice_loop - INFO - voice_loop:cleanup:499 - VoiceLoop cleanup completed
2025-08-23 17:54:02,296 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 18:06:04,748 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:06:04,776 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:06:06,003 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:06:06,005 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en'}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:06:06,006 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:06:06,007 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:06:06,008 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:06:06,009 - data.migrations - INFO - migrations:run_migrations:291 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:06:06,010 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:06:06,031 - data.migrations - INFO - migrations:create_schema:155 - Database schema created successfully
2025-08-23 18:06:06,033 - data.migrations - INFO - migrations:insert_sample_data:159 - Inserting sample data
2025-08-23 18:06:06,038 - data.migrations - WARNING - migrations:insert_sample_data:197 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 18:06:06,043 - data.migrations - INFO - migrations:insert_sample_data:272 - Sample data inserted successfully
2025-08-23 18:06:06,047 - data.migrations - INFO - migrations:run_migrations:299 - Migrations completed successfully
2025-08-23 18:06:06,048 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:06:06,050 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:06:06,051 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:06:06,051 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:06:06,052 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:06:06,052 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 18:06:06,702 - audio.voice_loop - INFO - voice_loop:__init__:73 - VoiceLoop initialized
2025-08-23 18:06:06,702 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 18:06:06,703 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 18:06:06,705 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:06:06,706 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 18:06:06,708 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:06:06,926 - core.application - INFO - application:_initialize_ui:84 - Creating dashboard frame...
2025-08-23 18:06:08,213 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 18:06:08,214 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 18:06:08,335 - ui.conversation - INFO - conversation:__init__:40 - Conversation frame initialized
2025-08-23 18:06:08,336 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 18:06:08,337 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 18:06:08,337 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 18:06:08,338 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 18:06:08,339 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 18:06:08,339 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 18:06:08,340 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 18:06:08,341 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 18:07:42,921 - ui.dashboard - INFO - dashboard:_start_conversation:433 - Starting conversation session
2025-08-23 18:07:42,931 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 8e0dc0ce-1dad-4e19-8e87-16c8d3c406b8 (mode: conversation)
2025-08-23 18:07:42,932 - core.application - INFO - application:_show_conversation:169 - Navigating to conversation
2025-08-23 18:07:49,059 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 18:07:49,059 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 18:07:49,060 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:07:54,061 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:07:54,331 - audio.voice_loop - INFO - voice_loop:cleanup:505 - VoiceLoop cleanup completed
2025-08-23 18:07:54,332 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 18:07:54,353 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 18:07:54,354 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:07:59,355 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:07:59,356 - audio.voice_loop - INFO - voice_loop:cleanup:505 - VoiceLoop cleanup completed
2025-08-23 18:07:59,358 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 18:31:05,550 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:05,588 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:31:06,705 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:31:06,705 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:31:06,706 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:31:06,707 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:06,707 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:31:06,708 - data.migrations - INFO - migrations:run_migrations:346 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:06,708 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:31:06,726 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:31:06,729 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:31:06,735 - data.migrations - WARNING - migrations:insert_sample_data:252 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 18:31:06,737 - data.migrations - INFO - migrations:insert_sample_data:327 - Sample data inserted successfully
2025-08-23 18:31:06,740 - data.migrations - INFO - migrations:run_migrations:354 - Migrations completed successfully
2025-08-23 18:31:06,741 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:31:06,742 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:31:06,742 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:06,743 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:31:06,744 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:31:06,744 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 18:31:07,361 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:07,362 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:31:07,363 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 18:31:07,369 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 18:31:07,371 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:31:07,372 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 18:31:07,373 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:31:07,586 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:31:08,547 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 18:31:08,548 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:08,577 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:224 - Error loading vocabulary: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:08,580 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:08,601 - ui.media_tab - ERROR - media_tab:_load_media:231 - Error loading media: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:08,603 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:08,609 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:225 - Error loading grammar topics: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:08,610 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:08,618 - ui.notes_tab - ERROR - notes_tab:_load_notes:224 - Error loading notes: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:08,619 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 18:31:08,675 - __main__ - ERROR - main:main:68 - Application crashed: name 'config' is not defined
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 92, in _initialize_ui
    self.conversation_frame = ConversationFrame(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 37, in __init__
    self._setup_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 121, in _setup_ui
    self.test_mode_var = tk.BooleanVar(value=config.learning.test_mode)
NameError: name 'config' is not defined
2025-08-23 18:31:32,287 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:32,316 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:31:33,454 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:31:33,455 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:31:33,456 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:31:33,457 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:33,457 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:31:33,458 - data.migrations - INFO - migrations:run_migrations:346 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:33,460 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:31:33,466 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:31:33,468 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:31:33,471 - data.migrations - WARNING - migrations:insert_sample_data:252 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 18:31:33,474 - data.migrations - INFO - migrations:insert_sample_data:327 - Sample data inserted successfully
2025-08-23 18:31:33,477 - data.migrations - INFO - migrations:run_migrations:354 - Migrations completed successfully
2025-08-23 18:31:33,479 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:31:33,480 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:31:33,481 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:33,481 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:31:33,482 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:31:33,483 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 18:31:33,970 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:33,971 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:31:33,971 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 18:31:33,972 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 18:31:33,973 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:31:33,973 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 18:31:33,973 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:31:34,101 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:31:34,804 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 18:31:34,807 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:34,843 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:224 - Error loading vocabulary: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:34,848 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:34,879 - ui.media_tab - ERROR - media_tab:_load_media:231 - Error loading media: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:34,880 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:34,888 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:225 - Error loading grammar topics: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:34,890 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:31:34,900 - ui.notes_tab - ERROR - notes_tab:_load_notes:224 - Error loading notes: 'DatabaseManager' object has no attribute 'execute_query'
2025-08-23 18:31:34,902 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 18:31:34,976 - __main__ - ERROR - main:main:68 - Application crashed: name 'config' is not defined
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 92, in _initialize_ui
    self.conversation_frame = ConversationFrame(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 37, in __init__
    self._setup_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\conversation.py", line 121, in _setup_ui
    self.test_mode_var = tk.BooleanVar(value=config.learning.test_mode)
NameError: name 'config' is not defined
2025-08-23 18:35:36,651 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:36,683 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:35:37,998 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:35:38,002 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:35:38,002 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:35:38,002 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:38,002 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:35:38,005 - data.migrations - INFO - migrations:run_migrations:346 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:38,005 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:35:38,007 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:35:38,007 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:35:38,015 - data.migrations - WARNING - migrations:insert_sample_data:252 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 18:35:38,017 - data.migrations - INFO - migrations:insert_sample_data:327 - Sample data inserted successfully
2025-08-23 18:35:38,017 - data.migrations - INFO - migrations:run_migrations:354 - Migrations completed successfully
2025-08-23 18:35:38,021 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:35:38,021 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:35:38,021 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:38,022 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:35:38,023 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:35:38,024 - core.application - INFO - application:_initialize_audio_components:113 - Initializing audio components
2025-08-23 18:35:38,509 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:38,511 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:35:38,511 - core.application - INFO - application:_initialize_audio_components:117 - Audio components initialized successfully
2025-08-23 18:35:38,512 - core.application - INFO - application:_initialize_ai_agent:125 - Initializing AI agent
2025-08-23 18:35:38,512 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:35:38,512 - core.application - INFO - application:_initialize_ai_agent:129 - AI agent initialized successfully
2025-08-23 18:35:38,514 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:35:38,634 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:35:39,358 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 18:35:39,360 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:39,394 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:224 - Error loading vocabulary: Cannot operate on a closed database.
2025-08-23 18:35:39,396 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:39,425 - ui.media_tab - ERROR - media_tab:_load_media:231 - Error loading media: Cannot operate on a closed database.
2025-08-23 18:35:39,427 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:39,436 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:225 - Error loading grammar topics: Cannot operate on a closed database.
2025-08-23 18:35:39,438 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:35:39,447 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: title
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: title
2025-08-23 18:35:39,450 - ui.notes_tab - ERROR - notes_tab:_load_notes:224 - Error loading notes: no such column: title
2025-08-23 18:35:39,451 - core.application - INFO - application:_initialize_ui:91 - Creating conversation frame...
2025-08-23 18:35:39,584 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 18:35:39,585 - core.application - INFO - application:_initialize_ui:109 - UI components initialized
2025-08-23 18:35:39,586 - core.application - INFO - application:_setup_event_handlers:137 - Setting up event handlers
2025-08-23 18:35:39,586 - core.application - INFO - application:_setup_event_handlers:150 - Event handlers set up
2025-08-23 18:35:39,587 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 18:35:39,587 - core.application - INFO - application:run:206 - Starting application main loop
2025-08-23 18:35:39,588 - core.application - INFO - application:_start_background_services:224 - Starting background services
2025-08-23 18:35:39,590 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 18:35:39,591 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 18:35:44,682 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: vocab
2025-08-23 18:35:44,686 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:224 - Error loading vocabulary: Cannot operate on a closed database.
2025-08-23 18:35:45,715 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: media
2025-08-23 18:35:45,722 - ui.media_tab - ERROR - media_tab:_load_media:231 - Error loading media: Cannot operate on a closed database.
2025-08-23 18:35:46,924 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: grammar
2025-08-23 18:35:46,928 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:225 - Error loading grammar topics: Cannot operate on a closed database.
2025-08-23 18:35:47,920 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: notes
2025-08-23 18:35:47,923 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: title
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: title
2025-08-23 18:35:47,925 - ui.notes_tab - ERROR - notes_tab:_load_notes:224 - Error loading notes: no such column: title
2025-08-23 18:35:49,522 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: home
2025-08-23 18:35:53,400 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: grammar
2025-08-23 18:35:53,404 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:225 - Error loading grammar topics: Cannot operate on a closed database.
2025-08-23 18:35:53,907 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: notes
2025-08-23 18:35:53,911 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: title
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: title
2025-08-23 18:35:53,914 - ui.notes_tab - ERROR - notes_tab:_load_notes:224 - Error loading notes: no such column: title
2025-08-23 18:35:54,584 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: grammar
2025-08-23 18:35:54,588 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:225 - Error loading grammar topics: Cannot operate on a closed database.
2025-08-23 18:35:55,068 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: media
2025-08-23 18:35:55,071 - ui.media_tab - ERROR - media_tab:_load_media:231 - Error loading media: Cannot operate on a closed database.
2025-08-23 18:35:55,547 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:113 - Switched to tab: vocab
2025-08-23 18:35:55,550 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:224 - Error loading vocabulary: Cannot operate on a closed database.
2025-08-23 18:35:57,799 - core.application - INFO - application:_on_closing:200 - Window closing
2025-08-23 18:35:57,801 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 18:35:57,802 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:36:02,803 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:36:03,072 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:36:03,073 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 18:36:03,165 - core.application - INFO - application:_cleanup:235 - Cleaning up application resources
2025-08-23 18:36:03,165 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:36:08,167 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:36:08,168 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:36:08,169 - core.application - INFO - application:_cleanup:252 - Application cleanup completed
2025-08-23 18:42:28,786 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:42:28,817 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:42:29,974 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:42:29,974 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:42:29,977 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:42:29,978 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:42:29,978 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:42:29,980 - data.migrations - INFO - migrations:run_migrations:346 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:42:29,981 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:42:29,988 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:42:29,988 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:42:29,991 - data.migrations - WARNING - migrations:insert_sample_data:252 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 18:42:29,996 - data.migrations - INFO - migrations:insert_sample_data:327 - Sample data inserted successfully
2025-08-23 18:42:30,001 - data.migrations - INFO - migrations:run_migrations:354 - Migrations completed successfully
2025-08-23 18:42:30,001 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:42:30,001 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:42:30,001 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:42:30,001 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:42:30,001 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:42:30,001 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 18:42:30,600 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:42:30,601 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:42:30,601 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 18:42:30,603 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 18:42:30,603 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:42:30,604 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 18:42:30,604 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:42:30,737 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:42:31,462 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 18:42:31,489 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:228 - Error loading vocabulary: Cannot operate on a closed database.
2025-08-23 18:42:31,510 - ui.media_tab - ERROR - media_tab:_load_media:235 - Error loading media: Cannot operate on a closed database.
2025-08-23 18:42:31,534 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:229 - Error loading grammar topics: Cannot operate on a closed database.
2025-08-23 18:42:31,568 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: title
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: title
2025-08-23 18:42:31,570 - ui.notes_tab - ERROR - notes_tab:_load_notes:226 - Error loading notes: no such column: title
2025-08-23 18:42:31,571 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 18:42:31,670 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 18:42:31,671 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 18:42:31,673 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 18:42:31,673 - core.application - INFO - application:_setup_event_handlers:151 - Event handlers set up
2025-08-23 18:42:31,674 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 18:42:31,674 - core.application - INFO - application:run:207 - Starting application main loop
2025-08-23 18:42:31,675 - core.application - INFO - application:_start_background_services:225 - Starting background services
2025-08-23 18:42:31,676 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 18:42:31,676 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 18:42:35,556 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: vocab
2025-08-23 18:42:35,560 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:228 - Error loading vocabulary: Cannot operate on a closed database.
2025-08-23 18:42:36,043 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 18:42:36,049 - ui.media_tab - ERROR - media_tab:_load_media:235 - Error loading media: Cannot operate on a closed database.
2025-08-23 18:42:36,485 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: grammar
2025-08-23 18:42:36,489 - ui.grammar_tab - ERROR - grammar_tab:_load_grammar_topics:229 - Error loading grammar topics: Cannot operate on a closed database.
2025-08-23 18:42:36,897 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: notes
2025-08-23 18:42:36,900 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: title
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: title
2025-08-23 18:42:36,904 - ui.notes_tab - ERROR - notes_tab:_load_notes:226 - Error loading notes: no such column: title
2025-08-23 18:42:37,791 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: home
2025-08-23 18:42:40,798 - core.application - INFO - application:_on_closing:201 - Window closing
2025-08-23 18:42:40,799 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:42:40,799 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:42:45,801 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:42:46,053 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:42:46,055 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:42:46,216 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:42:46,217 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:42:51,218 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:42:51,219 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:42:51,220 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:43:44,604 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:43:44,636 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:43:45,845 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:43:45,845 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:43:45,847 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:43:45,848 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:43:45,848 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:43:45,850 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:43:45,851 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:43:45,854 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:43:45,854 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:43:45,859 - data.migrations - WARNING - migrations:insert_sample_data:252 - Skipping sample user insert due to schema mismatch: table user_profile has no column named email
2025-08-23 18:43:45,861 - data.migrations - WARNING - migrations:insert_sample_data:345 - Skipping sample user_notes insert due to schema mismatch
2025-08-23 18:43:45,871 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 18:43:45,871 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 18:43:45,877 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:43:45,877 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:43:45,877 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:43:45,877 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:43:45,877 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:43:45,877 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 18:43:46,366 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:43:46,367 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:43:46,367 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 18:43:46,368 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 18:43:46,368 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:43:46,369 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 18:43:46,371 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:43:46,517 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:43:47,117 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 18:43:47,163 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:225 - Loaded 0 vocabulary words
2025-08-23 18:43:47,199 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 18:43:47,221 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 18:43:47,236 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: title
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: title
2025-08-23 18:43:47,239 - ui.notes_tab - ERROR - notes_tab:_load_notes:226 - Error loading notes: no such column: title
2025-08-23 18:43:47,241 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 18:43:47,333 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 18:43:47,333 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 18:43:47,333 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 18:43:47,334 - core.application - INFO - application:_setup_event_handlers:151 - Event handlers set up
2025-08-23 18:43:47,334 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 18:43:47,336 - core.application - INFO - application:run:207 - Starting application main loop
2025-08-23 18:43:47,337 - core.application - INFO - application:_start_background_services:225 - Starting background services
2025-08-23 18:43:47,339 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 18:43:47,340 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 18:43:49,978 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: grammar
2025-08-23 18:43:49,983 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 18:43:50,515 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 18:43:50,521 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 18:43:53,477 - core.application - INFO - application:_on_closing:201 - Window closing
2025-08-23 18:43:53,478 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:43:53,478 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:43:58,480 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:43:58,741 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:43:58,743 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:43:58,860 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:43:58,862 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:44:03,864 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:44:03,865 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:44:03,866 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:52:00,382 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:52:00,412 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:52:01,647 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:52:01,647 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:52:01,652 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:52:01,652 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:52:01,652 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:52:01,652 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:52:01,652 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:52:01,702 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:52:01,702 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:52:01,710 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 18:52:01,710 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 18:52:01,710 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:52:01,710 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:52:01,710 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:52:01,710 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:52:01,710 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:52:01,710 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 18:52:02,246 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:52:02,247 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:52:02,248 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 18:52:02,249 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 18:52:02,249 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:52:02,250 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 18:52:02,250 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:52:02,384 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:52:03,147 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 18:52:03,181 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: v.mastery_score
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 104, in execute
    cursor = conn.execute(query, params)
sqlite3.OperationalError: no such column: v.mastery_score
2025-08-23 18:52:03,183 - ui.vocab_tab - ERROR - vocab_tab:_load_vocabulary:243 - Error loading vocabulary: no such column: v.mastery_score
2025-08-23 18:52:03,204 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 18:52:03,223 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 18:52:03,248 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 3 notes
2025-08-23 18:52:03,250 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 18:52:03,383 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 18:52:03,384 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 18:52:03,384 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 18:52:03,386 - core.application - INFO - application:_setup_event_handlers:151 - Event handlers set up
2025-08-23 18:52:03,387 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 18:52:03,387 - core.application - INFO - application:run:207 - Starting application main loop
2025-08-23 18:52:03,388 - core.application - INFO - application:_start_background_services:225 - Starting background services
2025-08-23 18:52:03,389 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 18:52:03,389 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 18:52:11,433 - core.application - INFO - application:_on_closing:201 - Window closing
2025-08-23 18:52:11,434 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:52:11,436 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:52:16,439 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:52:16,716 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:52:16,716 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:52:16,769 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:52:16,770 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:52:21,772 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:52:21,772 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:52:21,773 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:57:07,461 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:57:07,487 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:57:08,966 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 18:57:08,966 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 18:57:08,966 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 18:57:08,968 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:57:08,968 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 18:57:08,969 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:57:08,969 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 18:57:08,975 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 18:57:08,977 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 18:57:08,981 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 18:57:08,981 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 18:57:08,986 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 18:57:08,986 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 18:57:08,986 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:57:08,986 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 18:57:08,989 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 18:57:08,991 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 18:57:09,484 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 18:57:09,485 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 18:57:09,486 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 18:57:09,486 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 18:57:09,487 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 18:57:09,487 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 18:57:09,487 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 18:57:09,629 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 18:57:10,113 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 18:57:10,153 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 18:57:10,178 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 18:57:10,196 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 18:57:10,212 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 6 notes
2025-08-23 18:57:10,213 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 18:57:10,331 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 18:57:10,332 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 18:57:10,332 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 18:57:10,332 - core.application - INFO - application:_setup_event_handlers:151 - Event handlers set up
2025-08-23 18:57:10,334 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 18:57:10,334 - core.application - INFO - application:run:207 - Starting application main loop
2025-08-23 18:57:10,335 - core.application - INFO - application:_start_background_services:225 - Starting background services
2025-08-23 18:57:10,336 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 18:57:10,336 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 18:57:12,206 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: vocab
2025-08-23 18:57:12,211 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 18:57:13,189 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 18:57:13,193 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 18:57:13,748 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: grammar
2025-08-23 18:57:13,756 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 18:57:14,304 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: notes
2025-08-23 18:57:14,308 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 6 notes
2025-08-23 18:57:26,150 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: home
2025-08-23 18:57:29,263 - core.application - INFO - application:_on_closing:201 - Window closing
2025-08-23 18:57:29,264 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:57:29,266 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 18:57:34,267 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 18:57:34,533 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 18:57:34,535 - core.application - INFO - application:_cleanup:253 - Application cleanup completed
2025-08-23 18:57:34,599 - core.application - INFO - application:_cleanup:236 - Cleaning up application resources
2025-08-23 18:57:34,602 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:04:22,068 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:22,106 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:04:23,382 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:04:23,382 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:04:23,382 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:04:23,387 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:23,387 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:04:23,387 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:23,390 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:04:23,392 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:04:23,392 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:04:23,398 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:04:23,398 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:04:23,405 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:04:23,405 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:04:23,405 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:23,405 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:04:23,405 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:04:23,405 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:04:23,967 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:23,968 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:04:23,968 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:04:23,969 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:04:23,969 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:04:23,970 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:04:23,970 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:04:24,107 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:04:24,889 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 19:04:24,918 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:04:24,941 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:04:24,952 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:04:24,961 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 9 notes
2025-08-23 19:04:24,963 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:04:25,068 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:04:25,069 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:04:25,069 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:04:25,071 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:04:25,071 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:04:25,072 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:04:25,072 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:04:25,073 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:04:25,073 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:04:27,236 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: vocab
2025-08-23 19:04:27,240 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:04:27,990 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 19:04:27,996 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:04:28,465 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: grammar
2025-08-23 19:04:28,468 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:04:28,983 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: notes
2025-08-23 19:04:28,988 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 9 notes
2025-08-23 19:04:31,933 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:04:31,934 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:04:31,934 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:04:36,936 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:04:37,196 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:04:37,197 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:04:37,265 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:04:37,268 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:04:47,630 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:47,652 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:04:48,795 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:04:48,795 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:04:48,806 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:04:48,806 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:48,806 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:04:48,808 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:48,809 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:04:48,809 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:04:48,809 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:04:48,822 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:04:48,825 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:04:48,826 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:04:48,826 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:04:48,826 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:48,826 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:04:48,826 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:04:48,826 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:04:49,313 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:04:49,314 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:04:49,315 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:04:49,316 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:04:49,317 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:04:49,317 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:04:49,317 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:04:49,441 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:04:50,192 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 19:04:50,219 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:04:50,243 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:04:50,251 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:04:50,259 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 12 notes
2025-08-23 19:04:50,260 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:04:50,331 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:04:50,332 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:04:50,333 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:04:50,333 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:04:50,334 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:04:50,334 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:04:50,335 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:04:50,336 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:04:50,336 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:04:53,547 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:04:53,548 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:04:53,548 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:04:58,550 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:04:58,802 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:04:58,803 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:04:58,887 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:04:58,889 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:05:03,891 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:05:03,892 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:05:03,892 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:05:23,406 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:05:23,438 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:05:24,529 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:05:24,529 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:05:24,529 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:05:24,529 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:05:24,537 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:05:24,537 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:05:24,537 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:05:24,541 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:05:24,544 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:05:24,550 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:05:24,550 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:05:24,550 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:05:24,550 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:05:24,554 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:05:24,554 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:05:24,554 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:05:24,554 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:05:25,036 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:05:25,037 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:05:25,038 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:05:25,039 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:05:25,040 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:05:25,041 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:05:25,041 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:05:25,210 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:05:25,907 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 19:05:25,935 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:05:25,956 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:05:25,963 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:05:25,972 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 15 notes
2025-08-23 19:05:25,973 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:05:26,048 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:05:26,050 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:05:26,051 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:05:26,052 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:05:26,052 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:05:26,053 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:05:26,054 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:05:26,055 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:05:26,055 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:05:28,863 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:05:28,864 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:05:28,864 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:05:33,866 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:05:34,129 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:05:34,130 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:05:34,230 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:05:34,231 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:05:39,233 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:05:39,234 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:05:39,235 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:05:54,397 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:05:54,439 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:06:36,413 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:06:36,436 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:06:37,634 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:06:37,636 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:06:37,637 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:06:37,638 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:06:37,638 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:06:37,638 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:06:37,638 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:06:37,643 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:06:37,643 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:06:37,650 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:06:37,657 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:06:37,658 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:06:37,659 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:06:37,661 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:06:37,661 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:06:37,661 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:06:37,661 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:06:38,316 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:06:38,317 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:06:38,318 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:06:38,320 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:06:38,321 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:06:38,321 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:06:38,323 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:06:38,430 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:06:39,320 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 19:06:39,352 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:06:39,379 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:06:39,390 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:06:39,398 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 18 notes
2025-08-23 19:06:39,400 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:06:39,489 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:06:39,490 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:06:39,490 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:06:39,491 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:06:39,491 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:06:39,491 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:06:39,491 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:06:39,493 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:06:39,493 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:06:43,235 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: vocab
2025-08-23 19:06:43,240 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:06:43,772 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 19:06:43,776 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:06:44,238 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: grammar
2025-08-23 19:06:44,242 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:06:48,984 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:06:48,985 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:06:48,986 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:06:53,987 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:06:54,246 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:06:54,247 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:06:54,329 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:06:54,332 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:06:59,332 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:06:59,333 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:06:59,334 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:12:14,264 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:14,291 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:12:15,614 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:12:15,614 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:12:15,614 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:12:15,622 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:15,624 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:12:15,624 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:15,624 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:12:15,641 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:12:15,641 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:12:15,651 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:12:15,656 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:12:15,656 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:12:15,656 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:12:15,656 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:15,656 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:12:15,656 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:12:15,656 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:12:16,242 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:16,243 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:12:16,244 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:12:16,244 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:12:16,245 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:12:16,245 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:12:16,246 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:12:16,440 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:12:17,323 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 19:12:17,363 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:12:17,412 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:12:17,439 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:12:17,462 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 21 notes
2025-08-23 19:12:17,463 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:12:17,553 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:12:17,554 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:12:17,555 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:12:17,557 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:12:17,557 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:12:17,558 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:12:17,559 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:12:17,559 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:12:17,560 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:12:21,474 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:12:21,475 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:12:21,476 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:12:26,478 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:12:26,727 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:12:26,727 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:12:26,824 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:12:26,826 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:12:31,827 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:12:31,828 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:12:31,830 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:12:37,538 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:37,566 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:12:38,815 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:12:38,815 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:12:38,815 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:12:38,815 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:38,820 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:12:38,820 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:38,820 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:12:38,824 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:12:38,824 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:12:38,832 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:12:38,832 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:12:38,837 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:12:38,837 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:12:38,837 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:38,837 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:12:38,840 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:12:38,840 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:12:39,317 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:12:39,318 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:12:39,318 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:12:39,319 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:12:39,320 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:12:39,320 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:12:39,321 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:12:39,460 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:12:40,129 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 19:12:40,170 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:12:40,198 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:12:40,223 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:12:40,236 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 24 notes
2025-08-23 19:12:40,237 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:12:40,329 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:12:40,337 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:12:40,338 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:12:40,339 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:12:40,340 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:12:40,341 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:12:40,342 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:12:40,343 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:12:40,343 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:12:44,190 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:12:44,191 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:12:44,192 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:12:49,193 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:12:49,459 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:12:49,460 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:12:49,551 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:12:49,552 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:12:54,553 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:12:54,555 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:12:54,555 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:20:21,441 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:20:21,482 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:20:35,654 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:20:35,654 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:20:35,659 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:20:35,660 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:20:35,660 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:20:35,660 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:20:35,660 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:20:35,660 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:20:35,668 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:20:35,671 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:20:35,678 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:20:35,678 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:20:35,678 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:20:35,678 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:20:35,678 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:20:35,678 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:20:35,684 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:20:37,007 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:20:37,008 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:20:37,009 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:20:37,010 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:20:37,011 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:20:37,012 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:20:37,012 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:20:37,126 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:20:38,191 - ui.dashboard - INFO - dashboard:_setup_layout:272 - Setting up dashboard layout
2025-08-23 19:20:38,192 - ui.dashboard - INFO - dashboard:_setup_layout:278 - Setting up sidebar
2025-08-23 19:20:38,193 - ui.dashboard - INFO - dashboard:_setup_layout:297 - Setting up main content
2025-08-23 19:20:38,194 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 19:20:38,194 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame created with parent: .!frame.!notebook.!frame
2025-08-23 19:20:38,196 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame widget: .!frame.!notebook.!frame.!frame
2025-08-23 19:20:38,224 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:20:38,253 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:20:38,265 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:20:38,273 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 27 notes
2025-08-23 19:20:38,274 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:20:38,380 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:20:38,382 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:20:38,382 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:20:38,384 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:20:38,384 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:20:38,384 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:20:38,385 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:20:38,387 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:20:38,387 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:20:40,721 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: vocab
2025-08-23 19:20:40,726 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:20:41,179 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 19:20:41,183 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:20:41,650 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: grammar
2025-08-23 19:20:41,654 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:20:42,173 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: notes
2025-08-23 19:20:42,178 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 27 notes
2025-08-23 19:20:45,983 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: home
2025-08-23 19:20:46,581 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: vocab
2025-08-23 19:20:46,585 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:20:47,242 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: media
2025-08-23 19:20:47,246 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:20:47,807 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:114 - Switched to tab: home
2025-08-23 19:20:50,289 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:20:50,290 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:20:50,291 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:20:55,292 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:20:55,550 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:20:55,550 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:20:55,667 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:20:55,669 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:26:04,544 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:26:04,575 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:26:06,070 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:26:06,070 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:26:06,070 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:26:06,070 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:26:06,077 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:26:06,077 - data.migrations - INFO - migrations:run_migrations:415 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:26:06,077 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:26:06,080 - data.migrations - INFO - migrations:create_schema:210 - Database schema created successfully
2025-08-23 19:26:06,085 - data.migrations - INFO - migrations:insert_sample_data:214 - Inserting sample data
2025-08-23 19:26:06,090 - data.migrations - INFO - migrations:insert_sample_data:396 - Sample data inserted successfully
2025-08-23 19:26:06,093 - data.migrations - INFO - migrations:run_migrations:423 - Migrations completed successfully
2025-08-23 19:26:06,093 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:26:06,093 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:26:06,093 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:26:06,098 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:26:06,098 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:26:06,098 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:26:06,649 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:26:06,650 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:26:06,651 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:26:06,652 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:26:06,655 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:26:06,655 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:26:06,656 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:26:06,814 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:26:07,389 - ui.dashboard - INFO - dashboard:_setup_layout:272 - Setting up dashboard layout
2025-08-23 19:26:07,391 - ui.dashboard - INFO - dashboard:_setup_layout:278 - Setting up sidebar
2025-08-23 19:26:07,392 - ui.dashboard - INFO - dashboard:_setup_layout:297 - Setting up main content
2025-08-23 19:26:07,393 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 19:26:07,394 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame created with parent: .!frame.!notebook.!frame
2025-08-23 19:26:07,395 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame widget: .!frame.!notebook.!frame.!frame
2025-08-23 19:26:07,426 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:26:07,448 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:26:07,462 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:26:07,476 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 30 notes
2025-08-23 19:26:07,477 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:26:07,573 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:26:07,574 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:26:07,574 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:26:07,575 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:26:07,575 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:26:07,576 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:26:07,577 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:26:07,577 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:26:07,578 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:26:09,853 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: vocab
2025-08-23 19:26:09,857 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:26:10,404 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: media
2025-08-23 19:26:10,407 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:26:10,851 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: grammar
2025-08-23 19:26:10,854 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:26:11,417 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: notes
2025-08-23 19:26:11,421 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 30 notes
2025-08-23 19:26:12,478 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:26:13,545 - ui.dashboard - INFO - dashboard:_navigate_to_tab:395 - Navigating to tab: media
2025-08-23 19:26:13,554 - core.application - INFO - application:_navigate_to_tab:185 - Navigating to tab: media
2025-08-23 19:26:13,558 - ui.tab_manager - INFO - tab_manager:switch_to_tab:130 - Switched to tab: media
2025-08-23 19:26:14,793 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:26:16,042 - ui.dashboard - INFO - dashboard:_navigate_to_tab:395 - Navigating to tab: notes
2025-08-23 19:26:16,044 - core.application - INFO - application:_navigate_to_tab:185 - Navigating to tab: notes
2025-08-23 19:26:16,050 - ui.tab_manager - INFO - tab_manager:switch_to_tab:130 - Switched to tab: notes
2025-08-23 19:26:16,872 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:26:17,838 - ui.dashboard - INFO - dashboard:_navigate_to_tab:395 - Navigating to tab: grammar
2025-08-23 19:26:17,838 - core.application - INFO - application:_navigate_to_tab:185 - Navigating to tab: grammar
2025-08-23 19:26:17,840 - ui.tab_manager - INFO - tab_manager:switch_to_tab:130 - Switched to tab: grammar
2025-08-23 19:26:19,124 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:26:20,343 - ui.dashboard - INFO - dashboard:_navigate_to_tab:395 - Navigating to tab: notes
2025-08-23 19:26:20,345 - core.application - INFO - application:_navigate_to_tab:185 - Navigating to tab: notes
2025-08-23 19:26:20,347 - ui.tab_manager - INFO - tab_manager:switch_to_tab:130 - Switched to tab: notes
2025-08-23 19:26:21,211 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:26:29,943 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:26:29,945 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:26:29,945 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:26:34,946 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:26:35,202 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:26:35,204 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:26:35,257 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:26:35,258 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:26:37,578 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:26:37,579 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:26:37,580 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:28:17,857 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:28:17,889 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:28:19,217 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:28:19,217 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:28:19,217 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:28:19,217 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:28:19,217 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:28:19,217 - data.migrations - INFO - migrations:run_migrations:420 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:28:19,217 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:28:19,226 - data.migrations - INFO - migrations:create_schema:215 - Database schema created successfully
2025-08-23 19:28:19,226 - data.migrations - INFO - migrations:insert_sample_data:219 - Inserting sample data
2025-08-23 19:28:19,234 - data.migrations - INFO - migrations:insert_sample_data:401 - Sample data inserted successfully
2025-08-23 19:28:19,236 - data.migrations - INFO - migrations:run_migrations:428 - Migrations completed successfully
2025-08-23 19:28:19,236 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:28:19,236 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:28:19,236 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:28:19,236 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:28:19,236 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:28:19,242 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:28:19,740 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:28:19,740 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:28:19,741 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:28:19,742 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:28:19,743 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:28:19,745 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:28:19,745 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:28:19,872 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:28:20,471 - ui.dashboard - INFO - dashboard:_setup_layout:272 - Setting up dashboard layout
2025-08-23 19:28:20,472 - ui.dashboard - INFO - dashboard:_setup_layout:278 - Setting up sidebar
2025-08-23 19:28:20,472 - ui.dashboard - INFO - dashboard:_setup_layout:297 - Setting up main content
2025-08-23 19:28:20,473 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 19:28:20,474 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame created with parent: .!frame.!notebook.!frame
2025-08-23 19:28:20,474 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame widget: .!frame.!notebook.!frame.!frame
2025-08-23 19:28:20,510 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:28:20,533 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:28:20,546 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:28:20,553 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 3 notes
2025-08-23 19:28:20,554 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:28:20,672 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:28:20,673 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:28:20,674 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:28:20,675 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:28:20,675 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:28:20,676 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:28:20,678 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:28:20,679 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:28:20,679 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:28:23,137 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: notes
2025-08-23 19:28:23,141 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 3 notes
2025-08-23 19:28:24,774 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:28:25,950 - ui.dashboard - INFO - dashboard:_start_conversation:400 - Starting conversation session
2025-08-23 19:28:25,955 - data.database - ERROR - database:get_connection:66 - Database operation failed: table learning_sessions has no column named started_at
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 154, in insert
    cursor = conn.execute(query, tuple(sanitized_data.values()))
sqlite3.OperationalError: table learning_sessions has no column named started_at
2025-08-23 19:28:25,965 - core.session_manager - ERROR - session_manager:_save_session_to_db:312 - Failed to save session to database: table learning_sessions has no column named started_at
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 309, in _save_session_to_db
    self.db.insert('learning_sessions', data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 154, in insert
    cursor = conn.execute(query, tuple(sanitized_data.values()))
sqlite3.OperationalError: table learning_sessions has no column named started_at
2025-08-23 19:28:25,969 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: 68edb32f-df2a-4d30-b9db-2b3cbb644f26 (mode: conversation)
2025-08-23 19:28:25,971 - core.application - INFO - application:_show_conversation:171 - Navigating to conversation
2025-08-23 19:28:29,596 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:124 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 19:28:29,596 - audio.voice_loop - INFO - voice_loop:start_recording:93 - Recording started
2025-08-23 19:28:29,605 - ui.conversation - INFO - conversation:_start_recording:180 - Recording started
2025-08-23 19:28:29,738 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:150 - Audio stream opened, starting VAD
2025-08-23 19:28:32,336 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:28:33,616 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:28:38,535 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:28:39,322 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:28:44,625 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:28:46,927 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:28:49,998 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:28:50,690 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: ended_at
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: ended_at
2025-08-23 19:28:50,693 - core.session_manager - ERROR - session_manager:_update_session_in_db:331 - Failed to update session in database: no such column: ended_at
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 328, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: ended_at
2025-08-23 19:28:50,809 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:28:51,277 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:28:52,654 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:28:53,270 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:28:54,485 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: ended_at
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: ended_at
2025-08-23 19:28:54,490 - core.session_manager - ERROR - session_manager:_update_session_in_db:331 - Failed to update session in database: no such column: ended_at
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 328, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: ended_at
2025-08-23 19:28:54,500 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: 68edb32f-df2a-4d30-b9db-2b3cbb644f26 (duration: 28s)
2025-08-23 19:28:54,501 - ui.conversation - INFO - conversation:_end_session:210 - Session ended: SessionState(session_id='68edb32f-df2a-4d30-b9db-2b3cbb644f26', started_at=datetime.datetime(2025, 8, 23, 19, 28, 25, 952435), ended_at=datetime.datetime(2025, 8, 23, 19, 28, 54, 481900), duration_seconds=28, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 19:28:55,535 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:29:02,088 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:29:02,090 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:29:02,091 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:29:03,318 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:29:07,094 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:29:12,588 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:01,321 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:30:01,344 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:30:02,669 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:30:02,669 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.5, 'rms_threshold': 10, 'zcr_threshold': 0.001, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:30:02,669 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:30:02,669 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:30:02,674 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:30:02,674 - data.migrations - INFO - migrations:run_migrations:420 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:30:02,674 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:30:02,674 - data.migrations - INFO - migrations:create_schema:215 - Database schema created successfully
2025-08-23 19:30:02,674 - data.migrations - INFO - migrations:insert_sample_data:219 - Inserting sample data
2025-08-23 19:30:02,682 - data.migrations - INFO - migrations:insert_sample_data:401 - Sample data inserted successfully
2025-08-23 19:30:02,682 - data.migrations - INFO - migrations:run_migrations:428 - Migrations completed successfully
2025-08-23 19:30:02,682 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:30:02,690 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:30:02,691 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:30:02,691 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:30:02,691 - core.session_manager - INFO - session_manager:__init__:72 - SessionManager initialized
2025-08-23 19:30:02,691 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:30:03,195 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:30:03,196 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:30:03,197 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:30:03,197 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:30:03,198 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:30:03,198 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:30:03,199 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:30:03,375 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:30:04,403 - ui.dashboard - INFO - dashboard:_setup_layout:272 - Setting up dashboard layout
2025-08-23 19:30:04,405 - ui.dashboard - INFO - dashboard:_setup_layout:278 - Setting up sidebar
2025-08-23 19:30:04,408 - ui.dashboard - INFO - dashboard:_setup_layout:297 - Setting up main content
2025-08-23 19:30:04,410 - ui.dashboard - INFO - dashboard:__init__:34 - Dashboard frame initialized
2025-08-23 19:30:04,411 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame created with parent: .!frame.!notebook.!frame
2025-08-23 19:30:04,411 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame widget: .!frame.!notebook.!frame.!frame
2025-08-23 19:30:04,477 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:240 - Loaded 0 vocabulary words for ru
2025-08-23 19:30:04,525 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:30:04,544 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:30:04,560 - ui.notes_tab - INFO - notes_tab:_load_notes:223 - Loaded 3 notes
2025-08-23 19:30:04,562 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:30:04,729 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:30:04,731 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:30:04,732 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:30:04,732 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:30:04,734 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:30:04,735 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:30:04,736 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:30:04,737 - core.session_manager - INFO - session_manager:start_background_tasks:251 - Session manager background tasks started
2025-08-23 19:30:04,739 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:30:07,297 - ui.dashboard - INFO - dashboard:_start_conversation:400 - Starting conversation session
2025-08-23 19:30:07,306 - data.database - ERROR - database:get_connection:66 - Database operation failed: table learning_sessions has no column named mode
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 154, in insert
    cursor = conn.execute(query, tuple(sanitized_data.values()))
sqlite3.OperationalError: table learning_sessions has no column named mode
2025-08-23 19:30:07,312 - core.session_manager - ERROR - session_manager:_save_session_to_db:312 - Failed to save session to database: table learning_sessions has no column named mode
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 309, in _save_session_to_db
    self.db.insert('learning_sessions', data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 154, in insert
    cursor = conn.execute(query, tuple(sanitized_data.values()))
sqlite3.OperationalError: table learning_sessions has no column named mode
2025-08-23 19:30:07,319 - core.session_manager - INFO - session_manager:start_session:96 - Started new session: db843206-e096-49c4-893b-fb6848982a20 (mode: conversation)
2025-08-23 19:30:07,321 - core.application - INFO - application:_show_conversation:171 - Navigating to conversation
2025-08-23 19:30:08,822 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:124 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 19:30:08,822 - audio.voice_loop - INFO - voice_loop:start_recording:93 - Recording started
2025-08-23 19:30:08,824 - ui.conversation - INFO - conversation:_start_recording:180 - Recording started
2025-08-23 19:30:08,903 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:150 - Audio stream opened, starting VAD
2025-08-23 19:30:09,941 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:30:12,500 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:30:14,043 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:30:14,382 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:15,439 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:30:18,899 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:30:20,949 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:30:22,739 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:30:22,766 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:23,788 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:30:24,197 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:24,860 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:30:26,628 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: summary
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: summary
2025-08-23 19:30:26,635 - core.session_manager - ERROR - session_manager:_update_session_in_db:331 - Failed to update session in database: no such column: summary
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 328, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: summary
2025-08-23 19:30:26,644 - core.session_manager - INFO - session_manager:end_session:130 - Ended session: db843206-e096-49c4-893b-fb6848982a20 (duration: 19s)
2025-08-23 19:30:26,646 - ui.conversation - INFO - conversation:_end_session:210 - Session ended: SessionState(session_id='db843206-e096-49c4-893b-fb6848982a20', started_at=datetime.datetime(2025, 8, 23, 19, 30, 7, 302266), ended_at=datetime.datetime(2025, 8, 23, 19, 30, 26, 623569), duration_seconds=19, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 19:30:31,444 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:30:38,609 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:30:38,869 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:30:42,424 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:43,244 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:30:45,779 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:30:48,515 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:49,361 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:30:49,592 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:30:50,899 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:30:51,045 - audio.voice_loop - INFO - voice_loop:stop_recording:111 - Recording stopped
2025-08-23 19:30:51,046 - ui.conversation - INFO - conversation:_stop_recording:195 - Recording stopped
2025-08-23 19:30:53,279 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:30:54,302 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:31:03,245 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:31:03,245 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:31:03,247 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:31:04,739 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:31:05,004 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:31:05,005 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:31:05,074 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:31:05,075 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:31:05,077 - core.session_manager - INFO - session_manager:stop_background_tasks:261 - Session manager background tasks stopped
2025-08-23 19:31:05,077 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:31:05,078 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:51:29,171 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:51:29,206 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:51:30,650 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:51:30,650 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 0.8, 'rms_threshold': 25, 'zcr_threshold': 0.002, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:51:30,650 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:51:30,654 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:51:30,654 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:51:30,654 - data.migrations - INFO - migrations:run_migrations:420 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:51:30,654 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:51:30,675 - data.migrations - INFO - migrations:create_schema:215 - Database schema created successfully
2025-08-23 19:51:30,678 - data.migrations - INFO - migrations:insert_sample_data:219 - Inserting sample data
2025-08-23 19:51:30,684 - data.migrations - INFO - migrations:insert_sample_data:401 - Sample data inserted successfully
2025-08-23 19:51:30,689 - data.migrations - INFO - migrations:run_migrations:428 - Migrations completed successfully
2025-08-23 19:51:30,689 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:51:30,691 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:51:30,692 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:51:30,692 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:51:30,692 - core.session_manager - INFO - session_manager:__init__:77 - SessionManager initialized
2025-08-23 19:51:30,692 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:51:31,317 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:51:31,317 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:51:31,318 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:51:31,318 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:51:31,319 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:51:31,319 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:51:31,321 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:51:31,512 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:51:32,403 - ui.dashboard - INFO - dashboard:_setup_layout:274 - Setting up dashboard layout
2025-08-23 19:51:32,413 - ui.dashboard - INFO - dashboard:_setup_layout:280 - Setting up sidebar
2025-08-23 19:51:32,419 - ui.dashboard - INFO - dashboard:_setup_layout:304 - Setting up main content
2025-08-23 19:51:32,422 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 19:51:32,427 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!notebook.!frame
2025-08-23 19:51:32,429 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!notebook.!frame.!frame
2025-08-23 19:51:32,478 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 19:51:32,528 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:51:32,552 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:51:32,564 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 19:51:32,564 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:51:32,662 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:51:32,668 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:51:32,668 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:51:32,670 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:51:32,671 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:51:32,671 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:51:32,672 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:51:32,673 - core.session_manager - INFO - session_manager:start_background_tasks:274 - Session manager background tasks started
2025-08-23 19:51:32,674 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:51:36,682 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: vocab
2025-08-23 19:51:36,686 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 19:51:37,224 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:116 - Switched to tab: home
2025-08-23 19:51:39,228 - ui.dashboard - INFO - dashboard:_start_conversation:401 - Starting conversation session
2025-08-23 19:51:39,238 - data.database - ERROR - database:get_connection:66 - Database operation failed: table learning_sessions has no column named vocab_practiced
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 154, in insert
    cursor = conn.execute(query, tuple(sanitized_data.values()))
sqlite3.OperationalError: table learning_sessions has no column named vocab_practiced
2025-08-23 19:51:39,242 - core.session_manager - ERROR - session_manager:_save_session_to_db:335 - Failed to save session to database: table learning_sessions has no column named vocab_practiced
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 332, in _save_session_to_db
    self.db.insert('learning_sessions', data)
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 154, in insert
    cursor = conn.execute(query, tuple(sanitized_data.values()))
sqlite3.OperationalError: table learning_sessions has no column named vocab_practiced
2025-08-23 19:51:39,247 - core.session_manager - INFO - session_manager:start_session:101 - Started new session: f8c8a797-a7b6-4520-b45c-534d4b9ebca2 (mode: conversation)
2025-08-23 19:51:39,247 - core.application - INFO - application:_show_conversation:171 - Navigating to conversation
2025-08-23 19:51:42,874 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:124 - Using audio device: Microphone Array (IntelÂ® Smart 
2025-08-23 19:51:42,875 - audio.voice_loop - INFO - voice_loop:start_recording:93 - Recording started
2025-08-23 19:51:42,884 - ui.conversation - INFO - conversation:_start_recording:187 - Recording started
2025-08-23 19:51:42,998 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:150 - Audio stream opened, starting VAD
2025-08-23 19:51:44,770 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:51:46,556 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:51:47,836 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:51:48,541 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:51:49,115 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:51:49,257 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:51:50,397 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:164 - 🎤 Speech detected - recording...
2025-08-23 19:51:51,677 - audio.voice_loop - INFO - voice_loop:_continuous_record_audio:172 - 🔇 Silence detected (1.3s) - processing audio...
2025-08-23 19:51:52,028 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:51:52,831 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/audio/transcriptions "HTTP/1.1 200 OK"
2025-08-23 19:51:52,859 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:51:54,065 - httpx - INFO - _client:_send_single_request:1025 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-23 19:51:55,763 - audio.voice_loop - INFO - voice_loop:stop_recording:111 - Recording stopped
2025-08-23 19:51:55,766 - ui.conversation - INFO - conversation:_stop_recording:202 - Recording stopped
2025-08-23 19:51:55,771 - data.database - ERROR - database:get_connection:66 - Database operation failed: no such column: vocab_practiced
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 62, in get_connection
    yield conn
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: vocab_practiced
2025-08-23 19:51:55,774 - core.session_manager - ERROR - session_manager:_update_session_in_db:354 - Failed to update session in database: no such column: vocab_practiced
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\session_manager.py", line 351, in _update_session_in_db
    self.db.update('learning_sessions', data, 'id = ?', (session.session_id,))
  File "C:\Users\nolan\personal\personal-projects\Nabu\data\database.py", line 165, in update
    cursor = conn.execute(query, tuple(sanitized_data.values()) + where_params)
sqlite3.OperationalError: no such column: vocab_practiced
2025-08-23 19:51:55,777 - core.session_manager - ERROR - session_manager:_generate_session_notes:439 - Error generating session notes: name 'config' is not defined
2025-08-23 19:51:55,793 - core.session_manager - INFO - session_manager:end_session:141 - Ended session: f8c8a797-a7b6-4520-b45c-534d4b9ebca2 (duration: 16s)
2025-08-23 19:51:55,806 - ui.conversation - INFO - conversation:_end_session:221 - Session ended: SessionState(session_id='f8c8a797-a7b6-4520-b45c-534d4b9ebca2', started_at=datetime.datetime(2025, 8, 23, 19, 51, 39, 236667), ended_at=datetime.datetime(2025, 8, 23, 19, 51, 55, 766506), duration_seconds=16, mode='conversation', is_active=False, engagement_score=0.0, difficulty_level=1.0, vocab_practiced=[], new_vocab_learned=[], corrections_made=[], notes='')
2025-08-23 19:51:57,809 - core.application - INFO - application:_show_dashboard:156 - Navigating to dashboard
2025-08-23 19:55:40,993 - core.application - INFO - application:run:231 - Application interrupted by user
2025-08-23 19:55:40,994 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:55:40,995 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:55:45,996 - core.session_manager - INFO - session_manager:stop_background_tasks:284 - Session manager background tasks stopped
2025-08-23 19:55:46,281 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:55:46,283 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:56:08,853 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:56:08,895 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:56:11,215 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 19:56:11,215 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 1.2, 'rms_threshold': 35, 'zcr_threshold': 0.003, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 19:56:11,215 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 19:56:11,215 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:56:11,215 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 19:56:11,223 - data.migrations - INFO - migrations:run_migrations:420 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:56:11,223 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 19:56:11,227 - data.migrations - INFO - migrations:create_schema:215 - Database schema created successfully
2025-08-23 19:56:11,231 - data.migrations - INFO - migrations:insert_sample_data:219 - Inserting sample data
2025-08-23 19:56:11,240 - data.migrations - INFO - migrations:insert_sample_data:401 - Sample data inserted successfully
2025-08-23 19:56:11,245 - data.migrations - INFO - migrations:run_migrations:428 - Migrations completed successfully
2025-08-23 19:56:11,247 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 19:56:11,247 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 19:56:11,249 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:56:11,251 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 19:56:11,251 - core.session_manager - INFO - session_manager:__init__:78 - SessionManager initialized
2025-08-23 19:56:11,251 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 19:56:11,855 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 19:56:11,856 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 19:56:11,858 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 19:56:11,858 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 19:56:11,860 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 19:56:11,860 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 19:56:11,861 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 19:56:12,094 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 19:56:13,048 - ui.dashboard - INFO - dashboard:_setup_layout:274 - Setting up dashboard layout
2025-08-23 19:56:13,050 - ui.dashboard - INFO - dashboard:_setup_layout:280 - Setting up sidebar
2025-08-23 19:56:13,051 - ui.dashboard - INFO - dashboard:_setup_layout:304 - Setting up main content
2025-08-23 19:56:13,052 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 19:56:13,053 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!notebook.!frame
2025-08-23 19:56:13,054 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!notebook.!frame.!frame
2025-08-23 19:56:13,106 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 19:56:13,141 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:56:13,154 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:56:13,170 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 19:56:13,172 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 19:56:13,334 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 19:56:13,335 - core.application - INFO - application:_initialize_ui:110 - UI components initialized
2025-08-23 19:56:13,336 - core.application - INFO - application:_setup_event_handlers:138 - Setting up event handlers
2025-08-23 19:56:13,337 - core.application - INFO - application:_setup_event_handlers:152 - Event handlers set up
2025-08-23 19:56:13,338 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 19:56:13,339 - core.application - INFO - application:run:221 - Starting application main loop
2025-08-23 19:56:13,340 - core.application - INFO - application:_start_background_services:239 - Starting background services
2025-08-23 19:56:13,341 - core.session_manager - INFO - session_manager:start_background_tasks:275 - Session manager background tasks started
2025-08-23 19:56:13,342 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 19:56:18,317 - ui.dashboard - INFO - dashboard:_navigate_to_tab:396 - Navigating to tab: media
2025-08-23 19:56:18,318 - core.application - INFO - application:_navigate_to_tab:185 - Navigating to tab: media
2025-08-23 19:56:18,324 - ui.tab_manager - INFO - tab_manager:switch_to_tab:133 - Switched to tab: media
2025-08-23 19:56:20,344 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: vocab
2025-08-23 19:56:20,348 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 19:56:21,527 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: home
2025-08-23 19:56:22,121 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: notes
2025-08-23 19:56:22,126 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 19:56:22,821 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: grammar
2025-08-23 19:56:22,826 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:56:23,291 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: media
2025-08-23 19:56:23,295 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:56:23,695 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: vocab
2025-08-23 19:56:23,705 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 19:56:24,270 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: home
2025-08-23 19:56:25,630 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: vocab
2025-08-23 19:56:25,638 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 19:56:26,913 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: grammar
2025-08-23 19:56:26,919 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:56:28,221 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: notes
2025-08-23 19:56:28,226 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 19:56:28,911 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: home
2025-08-23 19:56:32,292 - ui.dashboard - INFO - dashboard:_on_language_changed:472 - Language changed to: es
2025-08-23 19:56:32,294 - ui.vocab_tab - INFO - vocab_tab:_on_language_changed:255 - Language changed to: es
2025-08-23 19:56:32,298 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 2 vocabulary words for es
2025-08-23 19:56:32,299 - ui.notes_tab - INFO - notes_tab:_on_language_changed:296 - Language changed to: es
2025-08-23 19:56:32,302 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 1 notes
2025-08-23 19:56:33,511 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: vocab
2025-08-23 19:56:33,516 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 2 vocabulary words for es
2025-08-23 19:56:34,257 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: media
2025-08-23 19:56:34,261 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 19:56:34,761 - ui.tab_manager - INFO - tab_manager:_on_tab_changed:119 - Switched to tab: grammar
2025-08-23 19:56:34,766 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 19:56:37,113 - core.application - INFO - application:_on_closing:215 - Window closing
2025-08-23 19:56:37,114 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:56:37,115 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:56:42,116 - core.session_manager - INFO - session_manager:stop_background_tasks:285 - Session manager background tasks stopped
2025-08-23 19:56:42,369 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:56:42,370 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 19:56:42,429 - core.application - INFO - application:_cleanup:250 - Cleaning up application resources
2025-08-23 19:56:42,430 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 19:56:43,342 - core.session_manager - INFO - session_manager:stop_background_tasks:285 - Session manager background tasks stopped
2025-08-23 19:56:43,343 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 19:56:43,344 - core.application - INFO - application:_cleanup:267 - Application cleanup completed
2025-08-23 20:02:41,833 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:02:41,862 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:02:43,311 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 20:02:43,313 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 1.2, 'rms_threshold': 35, 'zcr_threshold': 0.003, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 20:02:43,314 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 20:02:43,314 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:02:43,314 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 20:02:43,314 - data.migrations - INFO - migrations:run_migrations:469 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:02:43,314 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 20:02:43,336 - data.migrations - INFO - migrations:create_schema:264 - Database schema created successfully
2025-08-23 20:02:43,336 - data.migrations - INFO - migrations:insert_sample_data:268 - Inserting sample data
2025-08-23 20:02:43,348 - data.migrations - INFO - migrations:insert_sample_data:450 - Sample data inserted successfully
2025-08-23 20:02:43,351 - data.migrations - INFO - migrations:run_migrations:477 - Migrations completed successfully
2025-08-23 20:02:43,352 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 20:02:43,353 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 20:02:43,353 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:02:43,353 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:02:43,353 - core.session_manager - INFO - session_manager:__init__:78 - SessionManager initialized
2025-08-23 20:02:43,353 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 20:02:43,935 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:02:43,936 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 20:02:43,937 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 20:02:43,937 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 20:02:43,938 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 20:02:43,939 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 20:02:43,939 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 20:02:44,124 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 20:02:44,782 - ui.dashboard - INFO - dashboard:_setup_layout:200 - Setting up dashboard layout
2025-08-23 20:02:44,783 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 20:02:44,784 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!frame.!frame2.!frame
2025-08-23 20:02:44,785 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!frame.!frame2.!frame.!frame
2025-08-23 20:02:44,829 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:02:44,852 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:02:44,861 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:02:44,882 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:02:44,883 - __main__ - ERROR - main:main:68 - Application crashed: 'TabManager' object has no attribute 'nav_buttons'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 85, in _initialize_ui
    self.tab_manager = TabManager(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\tab_manager.py", line 41, in __init__
    self._create_tabs()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\tab_manager.py", line 106, in _create_tabs
    self._show_tab('home')
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\tab_manager.py", line 224, in _show_tab
    for key, btn in self.nav_buttons.items():
AttributeError: 'TabManager' object has no attribute 'nav_buttons'
2025-08-23 20:04:06,244 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:04:06,267 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:04:07,420 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 20:04:07,420 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 1.2, 'rms_threshold': 35, 'zcr_threshold': 0.003, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 20:04:07,422 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 20:04:07,422 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:04:07,422 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 20:04:07,422 - data.migrations - INFO - migrations:run_migrations:469 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:04:07,425 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 20:04:07,425 - data.migrations - INFO - migrations:create_schema:264 - Database schema created successfully
2025-08-23 20:04:07,430 - data.migrations - INFO - migrations:insert_sample_data:268 - Inserting sample data
2025-08-23 20:04:07,433 - data.migrations - INFO - migrations:insert_sample_data:450 - Sample data inserted successfully
2025-08-23 20:04:07,440 - data.migrations - INFO - migrations:run_migrations:477 - Migrations completed successfully
2025-08-23 20:04:07,440 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 20:04:07,440 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 20:04:07,443 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:04:07,443 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:04:07,443 - core.session_manager - INFO - session_manager:__init__:78 - SessionManager initialized
2025-08-23 20:04:07,443 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 20:04:07,927 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:04:07,928 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 20:04:07,928 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 20:04:07,929 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 20:04:07,930 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 20:04:07,930 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 20:04:07,932 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 20:04:08,055 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 20:04:08,565 - ui.dashboard - INFO - dashboard:_setup_layout:200 - Setting up dashboard layout
2025-08-23 20:04:08,566 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 20:04:08,566 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!frame.!frame2.!frame
2025-08-23 20:04:08,568 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!frame.!frame2.!frame.!frame
2025-08-23 20:04:08,596 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:04:08,620 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:04:08,629 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:04:08,646 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:04:08,646 - __main__ - ERROR - main:main:68 - Application crashed: 'TabManager' object has no attribute 'nav_buttons'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 85, in _initialize_ui
    self.tab_manager = TabManager(
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\tab_manager.py", line 41, in __init__
    self._create_tabs()
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\tab_manager.py", line 106, in _create_tabs
    self._show_tab('home')
  File "C:\Users\nolan\personal\personal-projects\Nabu\ui\tab_manager.py", line 224, in _show_tab
    for key, btn in self.nav_buttons.items():
AttributeError: 'TabManager' object has no attribute 'nav_buttons'
2025-08-23 20:05:37,676 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:05:37,707 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:05:39,034 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 20:05:39,034 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 1.2, 'rms_threshold': 35, 'zcr_threshold': 0.003, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 20:05:39,037 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 20:05:39,038 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:05:39,038 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 20:05:39,039 - data.migrations - INFO - migrations:run_migrations:469 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:05:39,040 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 20:05:39,045 - data.migrations - INFO - migrations:create_schema:264 - Database schema created successfully
2025-08-23 20:05:39,047 - data.migrations - INFO - migrations:insert_sample_data:268 - Inserting sample data
2025-08-23 20:05:39,051 - data.migrations - INFO - migrations:insert_sample_data:450 - Sample data inserted successfully
2025-08-23 20:05:39,051 - data.migrations - INFO - migrations:run_migrations:477 - Migrations completed successfully
2025-08-23 20:05:39,051 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 20:05:39,051 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 20:05:39,058 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:05:39,059 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:05:39,060 - core.session_manager - INFO - session_manager:__init__:78 - SessionManager initialized
2025-08-23 20:05:39,061 - core.application - INFO - application:_initialize_audio_components:114 - Initializing audio components
2025-08-23 20:05:39,561 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:05:39,562 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 20:05:39,563 - core.application - INFO - application:_initialize_audio_components:118 - Audio components initialized successfully
2025-08-23 20:05:39,563 - core.application - INFO - application:_initialize_ai_agent:126 - Initializing AI agent
2025-08-23 20:05:39,564 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 20:05:39,565 - core.application - INFO - application:_initialize_ai_agent:130 - AI agent initialized successfully
2025-08-23 20:05:39,566 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 20:05:39,732 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 20:05:40,878 - ui.dashboard - INFO - dashboard:_setup_layout:200 - Setting up dashboard layout
2025-08-23 20:05:40,879 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 20:05:40,880 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!frame.!frame2.!frame
2025-08-23 20:05:40,881 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!frame.!frame2.!frame.!frame
2025-08-23 20:05:40,947 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:05:41,002 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:05:41,023 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:05:41,049 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:05:41,052 - core.application - INFO - application:_initialize_ui:92 - Creating conversation frame...
2025-08-23 20:05:41,251 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 20:05:41,252 - __main__ - ERROR - main:main:68 - Application crashed: 'TabManager' object has no attribute 'tab_container'
Traceback (most recent call last):
  File "C:\Users\nolan\personal\personal-projects\Nabu\main.py", line 59, in main
    app = TutorApplication()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 45, in __init__
    self._initialize_ui()
  File "C:\Users\nolan\personal\personal-projects\Nabu\core\application.py", line 101, in _initialize_ui
    self.current_frame = self.tab_manager.tab_container
AttributeError: 'TabManager' object has no attribute 'tab_container'
2025-08-23 20:06:39,594 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:06:39,629 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:06:41,080 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 20:06:41,080 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 1.2, 'rms_threshold': 35, 'zcr_threshold': 0.003, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 20:06:41,083 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 20:06:41,085 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:06:41,085 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 20:06:41,085 - data.migrations - INFO - migrations:run_migrations:469 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:06:41,087 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 20:06:41,091 - data.migrations - INFO - migrations:create_schema:264 - Database schema created successfully
2025-08-23 20:06:41,093 - data.migrations - INFO - migrations:insert_sample_data:268 - Inserting sample data
2025-08-23 20:06:41,100 - data.migrations - INFO - migrations:insert_sample_data:450 - Sample data inserted successfully
2025-08-23 20:06:41,100 - data.migrations - INFO - migrations:run_migrations:477 - Migrations completed successfully
2025-08-23 20:06:41,100 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 20:06:41,106 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 20:06:41,108 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:06:41,109 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:06:41,110 - core.session_manager - INFO - session_manager:__init__:78 - SessionManager initialized
2025-08-23 20:06:41,110 - core.application - INFO - application:_initialize_audio_components:115 - Initializing audio components
2025-08-23 20:06:41,609 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:06:41,610 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 20:06:41,610 - core.application - INFO - application:_initialize_audio_components:119 - Audio components initialized successfully
2025-08-23 20:06:41,612 - core.application - INFO - application:_initialize_ai_agent:127 - Initializing AI agent
2025-08-23 20:06:41,612 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 20:06:41,613 - core.application - INFO - application:_initialize_ai_agent:131 - AI agent initialized successfully
2025-08-23 20:06:41,615 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 20:06:41,777 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 20:06:42,738 - ui.dashboard - INFO - dashboard:_setup_layout:200 - Setting up dashboard layout
2025-08-23 20:06:42,740 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 20:06:42,741 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!frame.!frame2.!frame
2025-08-23 20:06:42,742 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!frame.!frame2.!frame.!frame
2025-08-23 20:06:42,788 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:06:42,854 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:06:42,898 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:06:42,922 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:06:42,926 - core.application - INFO - application:_initialize_ui:93 - Creating conversation frame...
2025-08-23 20:06:43,250 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 20:06:43,286 - core.application - INFO - application:_initialize_ui:111 - UI components initialized
2025-08-23 20:06:43,295 - core.application - INFO - application:_setup_event_handlers:139 - Setting up event handlers
2025-08-23 20:06:43,329 - core.application - INFO - application:_setup_event_handlers:153 - Event handlers set up
2025-08-23 20:06:43,345 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 20:06:43,353 - core.application - INFO - application:run:222 - Starting application main loop
2025-08-23 20:06:43,390 - core.application - INFO - application:_start_background_services:240 - Starting background services
2025-08-23 20:06:43,419 - core.session_manager - INFO - session_manager:start_background_tasks:275 - Session manager background tasks started
2025-08-23 20:06:43,436 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 20:06:47,068 - ui.tab_manager - INFO - tab_manager:_on_language_changed:204 - Language changed to: ru
2025-08-23 20:06:47,070 - ui.vocab_tab - INFO - vocab_tab:_on_language_changed:255 - Language changed to: ru
2025-08-23 20:06:47,074 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:06:47,074 - ui.notes_tab - INFO - notes_tab:_on_language_changed:296 - Language changed to: ru
2025-08-23 20:06:47,077 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:06:48,412 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:198 - Navigating to tab: home
2025-08-23 20:06:48,415 - ui.tab_manager - INFO - tab_manager:switch_to_tab:232 - Switched to tab: home
2025-08-23 20:06:50,862 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:198 - Navigating to tab: vocab
2025-08-23 20:06:50,867 - ui.tab_manager - INFO - tab_manager:switch_to_tab:232 - Switched to tab: vocab
2025-08-23 20:06:50,871 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:06:51,578 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:198 - Navigating to tab: media
2025-08-23 20:06:51,580 - ui.tab_manager - INFO - tab_manager:switch_to_tab:232 - Switched to tab: media
2025-08-23 20:06:51,584 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:06:52,318 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:198 - Navigating to tab: notes
2025-08-23 20:06:52,318 - ui.tab_manager - INFO - tab_manager:switch_to_tab:232 - Switched to tab: notes
2025-08-23 20:06:52,322 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:06:52,804 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:198 - Navigating to tab: grammar
2025-08-23 20:06:52,805 - ui.tab_manager - INFO - tab_manager:switch_to_tab:232 - Switched to tab: grammar
2025-08-23 20:06:52,807 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:06:58,800 - core.application - INFO - application:_on_closing:216 - Window closing
2025-08-23 20:06:58,801 - core.application - INFO - application:_cleanup:251 - Cleaning up application resources
2025-08-23 20:06:58,802 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 20:07:03,804 - core.session_manager - INFO - session_manager:stop_background_tasks:285 - Session manager background tasks stopped
2025-08-23 20:07:04,056 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 20:07:04,057 - core.application - INFO - application:_cleanup:268 - Application cleanup completed
2025-08-23 20:07:04,122 - core.application - INFO - application:_cleanup:251 - Cleaning up application resources
2025-08-23 20:07:04,125 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 20:08:00,458 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:08:00,488 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:08:02,076 - __main__ - INFO - main:initialize_application:27 - Starting AI Language Tutor application
2025-08-23 20:08:02,077 - __main__ - INFO - main:initialize_application:28 - Configuration loaded: {'audio': {'sample_rate': 16000, 'chunk_size': 1024, 'channels': 1, 'silence_threshold': 1.5, 'min_speech_duration': 1.2, 'rms_threshold': 35, 'zcr_threshold': 0.003, 'debug_audio': True}, 'ui': {'window_width': 1200, 'window_height': 800, 'theme': 'dark', 'font_family': 'SF Pro Display', 'font_size_base': 15, 'animation_speed': 0.3, 'enable_sounds': True}, 'agent': {'model': 'gpt-4o-mini', 'max_tokens': 150, 'temperature': 0.7, 'system_prompt_template': 'default', 'enable_tools': True, 'max_conversation_history': 10, 'response_timeout': 30}, 'database': {'db_path': 'data/tutor.db', 'backup_enabled': True, 'backup_interval_hours': 24, 'max_backup_count': 7, 'retention_days': 365}, 'learning': {'srs_enabled': True, 'vocab_review_interval_hours': 24, 'max_active_vocab': 750, 'difficulty_adjustment_rate': 0.1, 'engagement_threshold': 0.7, 'session_timeout_minutes': 30, 'target_language': 'ru', 'native_language': 'en', 'test_mode': False}, 'security': {'encrypt_user_data': True, 'encryption_key_path': 'config/encryption.key', 'api_key_rotation_days': 90, 'session_timeout_minutes': 60}, 'performance': {'max_concurrent_requests': 5, 'cache_enabled': True, 'cache_size_mb': 100, 'log_level': 'INFO', 'enable_profiling': False}, 'app_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu', 'data_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\data', 'config_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\config', 'assets_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\assets', 'logs_dir': 'C:\\Users\\nolan\\personal\\personal-projects\\Nabu\\logs'}
2025-08-23 20:08:02,078 - __main__ - INFO - main:initialize_application:34 - Initializing database...
2025-08-23 20:08:02,080 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:08:02,080 - __main__ - INFO - main:initialize_application:38 - Running database migrations...
2025-08-23 20:08:02,081 - data.migrations - INFO - migrations:run_migrations:469 - Running migrations for database: C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:08:02,082 - data.migrations - INFO - migrations:create_schema:20 - Creating database schema
2025-08-23 20:08:02,086 - data.migrations - INFO - migrations:create_schema:264 - Database schema created successfully
2025-08-23 20:08:02,091 - data.migrations - INFO - migrations:insert_sample_data:268 - Inserting sample data
2025-08-23 20:08:02,099 - data.migrations - INFO - migrations:insert_sample_data:450 - Sample data inserted successfully
2025-08-23 20:08:02,104 - data.migrations - INFO - migrations:run_migrations:477 - Migrations completed successfully
2025-08-23 20:08:02,104 - __main__ - INFO - main:initialize_application:41 - Application initialization completed successfully
2025-08-23 20:08:02,106 - core.application - INFO - application:__init__:29 - Initializing TutorApplication
2025-08-23 20:08:02,108 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:08:02,109 - core.event_bus - INFO - event_bus:__init__:24 - EventBus initialized
2025-08-23 20:08:02,110 - core.session_manager - INFO - session_manager:__init__:78 - SessionManager initialized
2025-08-23 20:08:02,110 - core.application - INFO - application:_initialize_audio_components:115 - Initializing audio components
2025-08-23 20:08:02,658 - data.database - INFO - database:__init__:27 - Initializing database at C:\Users\nolan\personal\personal-projects\Nabu\data\tutor.db
2025-08-23 20:08:02,659 - audio.voice_loop - INFO - voice_loop:__init__:78 - VoiceLoop initialized
2025-08-23 20:08:02,660 - core.application - INFO - application:_initialize_audio_components:119 - Audio components initialized successfully
2025-08-23 20:08:02,661 - core.application - INFO - application:_initialize_ai_agent:127 - Initializing AI agent
2025-08-23 20:08:02,662 - agent.orchestrator - INFO - orchestrator:__init__:24 - AgentOrchestrator initialized (placeholder)
2025-08-23 20:08:02,663 - core.application - INFO - application:_initialize_ai_agent:131 - AI agent initialized successfully
2025-08-23 20:08:02,664 - core.application - INFO - application:_initialize_ui:52 - Initializing UI components
2025-08-23 20:08:02,848 - core.application - INFO - application:_initialize_ui:84 - Creating tab manager...
2025-08-23 20:08:04,143 - ui.dashboard - INFO - dashboard:_setup_layout:200 - Setting up dashboard layout
2025-08-23 20:08:04,146 - ui.dashboard - INFO - dashboard:__init__:35 - Dashboard frame initialized
2025-08-23 20:08:04,148 - ui.dashboard - INFO - dashboard:__init__:36 - Dashboard frame created with parent: .!frame.!frame.!frame2.!frame
2025-08-23 20:08:04,150 - ui.dashboard - INFO - dashboard:__init__:37 - Dashboard frame widget: .!frame.!frame.!frame2.!frame.!frame
2025-08-23 20:08:04,227 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:08:04,275 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:08:04,299 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:08:04,322 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:08:04,326 - core.application - INFO - application:_initialize_ui:93 - Creating conversation frame...
2025-08-23 20:08:04,507 - ui.conversation - INFO - conversation:__init__:41 - Conversation frame initialized
2025-08-23 20:08:04,508 - core.application - INFO - application:_initialize_ui:111 - UI components initialized
2025-08-23 20:08:04,509 - core.application - INFO - application:_setup_event_handlers:139 - Setting up event handlers
2025-08-23 20:08:04,510 - core.application - INFO - application:_setup_event_handlers:153 - Event handlers set up
2025-08-23 20:08:04,512 - core.application - INFO - application:__init__:48 - TutorApplication initialized successfully
2025-08-23 20:08:04,513 - core.application - INFO - application:run:222 - Starting application main loop
2025-08-23 20:08:04,514 - core.application - INFO - application:_start_background_services:240 - Starting background services
2025-08-23 20:08:04,516 - core.session_manager - INFO - session_manager:start_background_tasks:275 - Session manager background tasks started
2025-08-23 20:08:04,517 - agent.orchestrator - INFO - orchestrator:start_background_tasks:29 - Agent orchestrator background tasks started (placeholder)
2025-08-23 20:08:06,259 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: vocab
2025-08-23 20:08:06,265 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: vocab
2025-08-23 20:08:06,270 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:08:07,083 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: media
2025-08-23 20:08:07,087 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: media
2025-08-23 20:08:07,091 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:08:07,638 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: notes
2025-08-23 20:08:07,640 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: notes
2025-08-23 20:08:07,643 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:08:08,153 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: grammar
2025-08-23 20:08:08,158 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: grammar
2025-08-23 20:08:08,161 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:08:09,024 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: home
2025-08-23 20:08:09,028 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: home
2025-08-23 20:08:11,254 - ui.tab_manager - INFO - tab_manager:_on_language_changed:218 - Language changed to: es
2025-08-23 20:08:11,255 - ui.vocab_tab - INFO - vocab_tab:_on_language_changed:255 - Language changed to: es
2025-08-23 20:08:11,258 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 2 vocabulary words for es
2025-08-23 20:08:11,258 - ui.notes_tab - INFO - notes_tab:_on_language_changed:296 - Language changed to: es
2025-08-23 20:08:11,261 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 1 notes
2025-08-23 20:08:12,353 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: vocab
2025-08-23 20:08:12,356 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: vocab
2025-08-23 20:08:12,358 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 2 vocabulary words for es
2025-08-23 20:08:12,923 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: media
2025-08-23 20:08:12,928 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: media
2025-08-23 20:08:12,933 - ui.media_tab - INFO - media_tab:_load_media:232 - Loaded 0 media items
2025-08-23 20:08:13,425 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: notes
2025-08-23 20:08:13,426 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: notes
2025-08-23 20:08:13,431 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 1 notes
2025-08-23 20:08:14,257 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: home
2025-08-23 20:08:14,259 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: home
2025-08-23 20:08:15,258 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: vocab
2025-08-23 20:08:15,262 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: vocab
2025-08-23 20:08:15,265 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 2 vocabulary words for es
2025-08-23 20:08:15,968 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: home
2025-08-23 20:08:15,970 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: home
2025-08-23 20:08:17,826 - ui.tab_manager - INFO - tab_manager:_on_language_changed:218 - Language changed to: ru
2025-08-23 20:08:17,828 - ui.vocab_tab - INFO - vocab_tab:_on_language_changed:255 - Language changed to: ru
2025-08-23 20:08:17,831 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:08:17,833 - ui.notes_tab - INFO - notes_tab:_on_language_changed:296 - Language changed to: ru
2025-08-23 20:08:17,835 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:08:18,386 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: home
2025-08-23 20:08:18,391 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: home
2025-08-23 20:08:19,149 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: vocab
2025-08-23 20:08:19,152 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: vocab
2025-08-23 20:08:19,155 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:08:24,311 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: home
2025-08-23 20:08:24,313 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: home
2025-08-23 20:08:27,117 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: vocab
2025-08-23 20:08:27,121 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: vocab
2025-08-23 20:08:27,127 - ui.vocab_tab - INFO - vocab_tab:_load_vocabulary:243 - Loaded 3 vocabulary words for ru
2025-08-23 20:08:27,593 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: notes
2025-08-23 20:08:27,597 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: notes
2025-08-23 20:08:27,601 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:08:28,147 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: notes
2025-08-23 20:08:28,149 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: notes
2025-08-23 20:08:28,153 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:08:28,751 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: notes
2025-08-23 20:08:28,754 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: notes
2025-08-23 20:08:28,757 - ui.notes_tab - INFO - notes_tab:_load_notes:279 - Loaded 3 notes
2025-08-23 20:08:29,320 - ui.tab_manager - INFO - tab_manager:_navigate_to_tab:212 - Navigating to tab: grammar
2025-08-23 20:08:29,321 - ui.tab_manager - INFO - tab_manager:switch_to_tab:245 - Switched to tab: grammar
2025-08-23 20:08:29,325 - ui.grammar_tab - INFO - grammar_tab:_load_grammar_topics:226 - Loaded 0 grammar topics
2025-08-23 20:08:31,988 - core.application - INFO - application:_on_closing:216 - Window closing
2025-08-23 20:08:31,988 - core.application - INFO - application:_cleanup:251 - Cleaning up application resources
2025-08-23 20:08:31,989 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 20:08:34,517 - core.session_manager - INFO - session_manager:stop_background_tasks:285 - Session manager background tasks stopped
2025-08-23 20:08:34,775 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 20:08:34,776 - core.application - INFO - application:_cleanup:268 - Application cleanup completed
2025-08-23 20:08:34,890 - core.application - INFO - application:_cleanup:251 - Cleaning up application resources
2025-08-23 20:08:34,892 - agent.orchestrator - INFO - orchestrator:stop_background_tasks:34 - Agent orchestrator background tasks stopped (placeholder)
2025-08-23 20:08:34,894 - core.session_manager - INFO - session_manager:stop_background_tasks:285 - Session manager background tasks stopped
2025-08-23 20:08:34,895 - audio.voice_loop - INFO - voice_loop:cleanup:518 - VoiceLoop cleanup completed
2025-08-23 20:08:34,898 - core.application - INFO - application:_cleanup:268 - Application cleanup completed
